var Nt=Object.defineProperty;var $t=(R,T,B)=>T in R?Nt(R,T,{enumerable:!0,configurable:!0,writable:!0,value:B}):R[T]=B;var Ve=(R,T,B)=>$t(R,typeof T!="symbol"?T+"":T,B);(function(){const T=document.createElement("link").relList;if(T&&T.supports&&T.supports("modulepreload"))return;for(const O of document.querySelectorAll('link[rel="modulepreload"]'))c(O);new MutationObserver(O=>{for(const t of O)if(t.type==="childList")for(const r of t.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&c(r)}).observe(document,{childList:!0,subtree:!0});function B(O){const t={};return O.integrity&&(t.integrity=O.integrity),O.referrerPolicy&&(t.referrerPolicy=O.referrerPolicy),O.crossOrigin==="use-credentials"?t.credentials="include":O.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function c(O){if(O.ep)return;O.ep=!0;const t=B(O);fetch(O.href,t)}})();class ut{static split(T,B){const c=[],O=T.split(B);for(const t of O)c.push(t);return c}static stripMargin(T){const B=this.split(T,`
`);let c="";for(let O of B){let t=0;for(let r=0;r<O.length;++r){const h=O[r];if(!(h===" "||h==="	"))if(h==="|"){t=r+1;break}else break}c+=O.substring(t)+`
`}return c}static toString(T){let B="";console.log(T);for(const c of T){let O="";for(const t of c)O+=t?"1":"0";B+=O+`
`}return console.log("rows"),console.log(B),B}}class Kt{constructor(T,B,c,O){Ve(this,"top_left_x");Ve(this,"top_left_y");Ve(this,"bottom_right_x");Ve(this,"bottom_right_y");this.top_left_x=T,this.top_left_y=B,this.bottom_right_x=c,this.bottom_right_y=O}equals(T){return this.top_left_x===T.top_left_x&&this.top_left_y===T.top_left_y&&this.bottom_right_x===T.bottom_right_x&&this.bottom_right_y===T.bottom_right_y}size(){const T=this.bottom_right_x-this.top_left_x+1,B=this.bottom_right_y-this.top_left_y+1;return T*B}toString(){return`Rectangle(${this.top_left_x}, ${this.top_left_y}, ${this.bottom_right_x}, ${this.bottom_right_y})`}isLine(){return(this.top_left_x===this.bottom_right_x||this.top_left_y===this.bottom_right_y)&&this.size()>1}convertToJackCode(){let T=this.top_left_x!==0?`+${this.top_left_x}`:"",B=this.top_left_y!==0?`+${this.top_left_y}`:"",c=this.bottom_right_x!==0?`+${this.bottom_right_x}`:"",O=this.bottom_right_y!==0?`+${this.bottom_right_y}`:"";return this.size()===1?`|    do Screen.drawPixel(x${T},y${B});
`:`|    do ${this.isLine()?"Screen.drawLine":"Screen.drawRectangle"}(x${T},y${B},x${c},y${O});
`}}class Ut{static convert(T,B,c,O,t){if(B>512||c>256)throw new Error(`Image dimensions exceed screen dimensions. Screen dimensions: 512x256. Image dimensions: ${B}x${c}`);const n=this.convertToBinaryImage(T,B,c),g=ut.toString(n),u=this.convertToJackCode(n,O,t);return{binaryImage:g,jackCode:u}}static convertToJackCode(T,B,c){let O="";B&&(O=`
                |field int imageW, imageH;
                |let imageW = ${T[0].length};
                |let imageH = ${T.length};
            `),O+=`|method void draw(int x, int y) {
        `;let t=O;if(c)for(const h of this.findShapes(T))t+=h.convertToJackCode();else for(let h=0;h<T.length;h++){const n=T[h];for(let g=0;g<n.length;g++)if(!n[g]){const u=g>0?`+${g}`:"",l=h>0?`+${h}`:"";t+=`|   do Screen.drawPixel(x${u},y${l});
`}}return ut.stripMargin(t+`|    return;
            |}
        `)}static convertToBinaryImage(T,B,c){if(B<=0||c<=0)throw new Error(`Invalid image size: ${B}x${c}`);const O=Array(c).fill(null).map(()=>Array(B).fill(!1));for(let t=0;t<c;t++)for(let r=0;r<B*4;r+=4)T[t*B*4+r]>224&&(O[t][r/4]=!0);return O}static findShapes(T){const B=T.length,c=T[0].length,O=Array(B).fill(null).map(()=>Array(c).fill(!1)),t=[];for(let r=0;r<B;++r)for(let h=0;h<c;++h)if(!T[r][h]&&!O[r][h]){let n=h,g=r,u=h,l=r;for(;u+1<c&&!T[g][u+1]&&!O[g][u+1];)++u;let s=!0;for(;s&&l+1<B;){for(let b=n;b<=u;++b)if(T[l+1][b]||O[l+1][b]){s=!1;break}s&&++l}for(let b=g;b<=l;++b)for(let f=n;f<=u;++f)O[b][f]=!0;t.push(new Kt(n,g,u,l))}return t}}function Yt(R){throw new Error('Could not dynamically require "'+R+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Ct={exports:{}},Ge={},st;function Ne(){return st||(st=1,function(R){var T=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function B(t,r){return Object.prototype.hasOwnProperty.call(t,r)}R.assign=function(t){for(var r=Array.prototype.slice.call(arguments,1);r.length;){var h=r.shift();if(h){if(typeof h!="object")throw new TypeError(h+"must be non-object");for(var n in h)B(h,n)&&(t[n]=h[n])}}return t},R.shrinkBuf=function(t,r){return t.length===r?t:t.subarray?t.subarray(0,r):(t.length=r,t)};var c={arraySet:function(t,r,h,n,g){if(r.subarray&&t.subarray){t.set(r.subarray(h,h+n),g);return}for(var u=0;u<n;u++)t[g+u]=r[h+u]},flattenChunks:function(t){var r,h,n,g,u,l;for(n=0,r=0,h=t.length;r<h;r++)n+=t[r].length;for(l=new Uint8Array(n),g=0,r=0,h=t.length;r<h;r++)u=t[r],l.set(u,g),g+=u.length;return l}},O={arraySet:function(t,r,h,n,g){for(var u=0;u<n;u++)t[g+u]=r[h+u]},flattenChunks:function(t){return[].concat.apply([],t)}};R.setTyped=function(t){t?(R.Buf8=Uint8Array,R.Buf16=Uint16Array,R.Buf32=Int32Array,R.assign(R,c)):(R.Buf8=Array,R.Buf16=Array,R.Buf32=Array,R.assign(R,O))},R.setTyped(T)}(Ge)),Ge}var We={},Ze={},$e={},dt;function Xt(){if(dt)return $e;dt=1;var R=Ne(),T=4,B=0,c=1,O=2;function t(o){for(var I=o.length;--I>=0;)o[I]=0}var r=0,h=1,n=2,g=3,u=258,l=29,s=256,b=s+1+l,f=30,m=19,A=2*b+1,_=15,d=16,S=7,z=256,Z=16,L=17,p=18,D=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],U=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],$=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],q=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],F=512,H=new Array((b+2)*2);t(H);var Y=new Array(f*2);t(Y);var Q=new Array(F);t(Q);var J=new Array(u-g+1);t(J);var K=new Array(l);t(K);var W=new Array(f);t(W);function re(o,I,M,j,w){this.static_tree=o,this.extra_bits=I,this.extra_base=M,this.elems=j,this.max_length=w,this.has_stree=o&&o.length}var we,xe,ue;function he(o,I){this.dyn_tree=o,this.max_code=0,this.stat_desc=I}function de(o){return o<256?Q[o]:Q[256+(o>>>7)]}function _e(o,I){o.pending_buf[o.pending++]=I&255,o.pending_buf[o.pending++]=I>>>8&255}function ie(o,I,M){o.bi_valid>d-M?(o.bi_buf|=I<<o.bi_valid&65535,_e(o,o.bi_buf),o.bi_buf=I>>d-o.bi_valid,o.bi_valid+=M-d):(o.bi_buf|=I<<o.bi_valid&65535,o.bi_valid+=M)}function le(o,I,M){ie(o,M[I*2],M[I*2+1])}function te(o,I){var M=0;do M|=o&1,o>>>=1,M<<=1;while(--I>0);return M>>>1}function G(o){o.bi_valid===16?(_e(o,o.bi_buf),o.bi_buf=0,o.bi_valid=0):o.bi_valid>=8&&(o.pending_buf[o.pending++]=o.bi_buf&255,o.bi_buf>>=8,o.bi_valid-=8)}function Ee(o,I){var M=I.dyn_tree,j=I.max_code,w=I.stat_desc.static_tree,y=I.stat_desc.has_stree,a=I.stat_desc.extra_bits,C=I.stat_desc.extra_base,P=I.stat_desc.max_length,e,k,E,i,v,x,V=0;for(i=0;i<=_;i++)o.bl_count[i]=0;for(M[o.heap[o.heap_max]*2+1]=0,e=o.heap_max+1;e<A;e++)k=o.heap[e],i=M[M[k*2+1]*2+1]+1,i>P&&(i=P,V++),M[k*2+1]=i,!(k>j)&&(o.bl_count[i]++,v=0,k>=C&&(v=a[k-C]),x=M[k*2],o.opt_len+=x*(i+v),y&&(o.static_len+=x*(w[k*2+1]+v)));if(V!==0){do{for(i=P-1;o.bl_count[i]===0;)i--;o.bl_count[i]--,o.bl_count[i+1]+=2,o.bl_count[P]--,V-=2}while(V>0);for(i=P;i!==0;i--)for(k=o.bl_count[i];k!==0;)E=o.heap[--e],!(E>j)&&(M[E*2+1]!==i&&(o.opt_len+=(i-M[E*2+1])*M[E*2],M[E*2+1]=i),k--)}}function ye(o,I,M){var j=new Array(_+1),w=0,y,a;for(y=1;y<=_;y++)j[y]=w=w+M[y-1]<<1;for(a=0;a<=I;a++){var C=o[a*2+1];C!==0&&(o[a*2]=te(j[C]++,C))}}function ee(){var o,I,M,j,w,y=new Array(_+1);for(M=0,j=0;j<l-1;j++)for(K[j]=M,o=0;o<1<<D[j];o++)J[M++]=j;for(J[M-1]=j,w=0,j=0;j<16;j++)for(W[j]=w,o=0;o<1<<U[j];o++)Q[w++]=j;for(w>>=7;j<f;j++)for(W[j]=w<<7,o=0;o<1<<U[j]-7;o++)Q[256+w++]=j;for(I=0;I<=_;I++)y[I]=0;for(o=0;o<=143;)H[o*2+1]=8,o++,y[8]++;for(;o<=255;)H[o*2+1]=9,o++,y[9]++;for(;o<=279;)H[o*2+1]=7,o++,y[7]++;for(;o<=287;)H[o*2+1]=8,o++,y[8]++;for(ye(H,b+1,y),o=0;o<f;o++)Y[o*2+1]=5,Y[o*2]=te(o,5);we=new re(H,D,s+1,b,_),xe=new re(Y,U,0,f,_),ue=new re(new Array(0),$,0,m,S)}function ve(o){var I;for(I=0;I<b;I++)o.dyn_ltree[I*2]=0;for(I=0;I<f;I++)o.dyn_dtree[I*2]=0;for(I=0;I<m;I++)o.bl_tree[I*2]=0;o.dyn_ltree[z*2]=1,o.opt_len=o.static_len=0,o.last_lit=o.matches=0}function ze(o){o.bi_valid>8?_e(o,o.bi_buf):o.bi_valid>0&&(o.pending_buf[o.pending++]=o.bi_buf),o.bi_buf=0,o.bi_valid=0}function Ae(o,I,M,j){ze(o),_e(o,M),_e(o,~M),R.arraySet(o.pending_buf,o.window,I,M,o.pending),o.pending+=M}function be(o,I,M,j){var w=I*2,y=M*2;return o[w]<o[y]||o[w]===o[y]&&j[I]<=j[M]}function oe(o,I,M){for(var j=o.heap[M],w=M<<1;w<=o.heap_len&&(w<o.heap_len&&be(I,o.heap[w+1],o.heap[w],o.depth)&&w++,!be(I,j,o.heap[w],o.depth));)o.heap[M]=o.heap[w],M=w,w<<=1;o.heap[M]=j}function ae(o,I,M){var j,w,y=0,a,C;if(o.last_lit!==0)do j=o.pending_buf[o.d_buf+y*2]<<8|o.pending_buf[o.d_buf+y*2+1],w=o.pending_buf[o.l_buf+y],y++,j===0?le(o,w,I):(a=J[w],le(o,a+s+1,I),C=D[a],C!==0&&(w-=K[a],ie(o,w,C)),j--,a=de(j),le(o,a,M),C=U[a],C!==0&&(j-=W[a],ie(o,j,C)));while(y<o.last_lit);le(o,z,I)}function Te(o,I){var M=I.dyn_tree,j=I.stat_desc.static_tree,w=I.stat_desc.has_stree,y=I.stat_desc.elems,a,C,P=-1,e;for(o.heap_len=0,o.heap_max=A,a=0;a<y;a++)M[a*2]!==0?(o.heap[++o.heap_len]=P=a,o.depth[a]=0):M[a*2+1]=0;for(;o.heap_len<2;)e=o.heap[++o.heap_len]=P<2?++P:0,M[e*2]=1,o.depth[e]=0,o.opt_len--,w&&(o.static_len-=j[e*2+1]);for(I.max_code=P,a=o.heap_len>>1;a>=1;a--)oe(o,M,a);e=y;do a=o.heap[1],o.heap[1]=o.heap[o.heap_len--],oe(o,M,1),C=o.heap[1],o.heap[--o.heap_max]=a,o.heap[--o.heap_max]=C,M[e*2]=M[a*2]+M[C*2],o.depth[e]=(o.depth[a]>=o.depth[C]?o.depth[a]:o.depth[C])+1,M[a*2+1]=M[C*2+1]=e,o.heap[1]=e++,oe(o,M,1);while(o.heap_len>=2);o.heap[--o.heap_max]=o.heap[1],Ee(o,I),ye(M,P,o.bl_count)}function Ue(o,I,M){var j,w=-1,y,a=I[0*2+1],C=0,P=7,e=4;for(a===0&&(P=138,e=3),I[(M+1)*2+1]=65535,j=0;j<=M;j++)y=a,a=I[(j+1)*2+1],!(++C<P&&y===a)&&(C<e?o.bl_tree[y*2]+=C:y!==0?(y!==w&&o.bl_tree[y*2]++,o.bl_tree[Z*2]++):C<=10?o.bl_tree[L*2]++:o.bl_tree[p*2]++,C=0,w=y,a===0?(P=138,e=3):y===a?(P=6,e=3):(P=7,e=4))}function He(o,I,M){var j,w=-1,y,a=I[0*2+1],C=0,P=7,e=4;for(a===0&&(P=138,e=3),j=0;j<=M;j++)if(y=a,a=I[(j+1)*2+1],!(++C<P&&y===a)){if(C<e)do le(o,y,o.bl_tree);while(--C!==0);else y!==0?(y!==w&&(le(o,y,o.bl_tree),C--),le(o,Z,o.bl_tree),ie(o,C-3,2)):C<=10?(le(o,L,o.bl_tree),ie(o,C-3,3)):(le(o,p,o.bl_tree),ie(o,C-11,7));C=0,w=y,a===0?(P=138,e=3):y===a?(P=6,e=3):(P=7,e=4)}}function Re(o){var I;for(Ue(o,o.dyn_ltree,o.l_desc.max_code),Ue(o,o.dyn_dtree,o.d_desc.max_code),Te(o,o.bl_desc),I=m-1;I>=3&&o.bl_tree[q[I]*2+1]===0;I--);return o.opt_len+=3*(I+1)+5+5+4,I}function Ye(o,I,M,j){var w;for(ie(o,I-257,5),ie(o,M-1,5),ie(o,j-4,4),w=0;w<j;w++)ie(o,o.bl_tree[q[w]*2+1],3);He(o,o.dyn_ltree,I-1),He(o,o.dyn_dtree,M-1)}function qe(o){var I=4093624447,M;for(M=0;M<=31;M++,I>>>=1)if(I&1&&o.dyn_ltree[M*2]!==0)return B;if(o.dyn_ltree[9*2]!==0||o.dyn_ltree[10*2]!==0||o.dyn_ltree[13*2]!==0)return c;for(M=32;M<s;M++)if(o.dyn_ltree[M*2]!==0)return c;return B}var Ce=!1;function Xe(o){Ce||(ee(),Ce=!0),o.l_desc=new he(o.dyn_ltree,we),o.d_desc=new he(o.dyn_dtree,xe),o.bl_desc=new he(o.bl_tree,ue),o.bi_buf=0,o.bi_valid=0,ve(o)}function Fe(o,I,M,j){ie(o,(r<<1)+(j?1:0),3),Ae(o,I,M)}function ke(o){ie(o,h<<1,3),le(o,z,H),G(o)}function Le(o,I,M,j){var w,y,a=0;o.level>0?(o.strm.data_type===O&&(o.strm.data_type=qe(o)),Te(o,o.l_desc),Te(o,o.d_desc),a=Re(o),w=o.opt_len+3+7>>>3,y=o.static_len+3+7>>>3,y<=w&&(w=y)):w=y=M+5,M+4<=w&&I!==-1?Fe(o,I,M,j):o.strategy===T||y===w?(ie(o,(h<<1)+(j?1:0),3),ae(o,H,Y)):(ie(o,(n<<1)+(j?1:0),3),Ye(o,o.l_desc.max_code+1,o.d_desc.max_code+1,a+1),ae(o,o.dyn_ltree,o.dyn_dtree)),ve(o),j&&ze(o)}function je(o,I,M){return o.pending_buf[o.d_buf+o.last_lit*2]=I>>>8&255,o.pending_buf[o.d_buf+o.last_lit*2+1]=I&255,o.pending_buf[o.l_buf+o.last_lit]=M&255,o.last_lit++,I===0?o.dyn_ltree[M*2]++:(o.matches++,I--,o.dyn_ltree[(J[M]+s+1)*2]++,o.dyn_dtree[de(I)*2]++),o.last_lit===o.lit_bufsize-1}return $e._tr_init=Xe,$e._tr_stored_block=Fe,$e._tr_flush_block=Le,$e._tr_tally=je,$e._tr_align=ke,$e}var et,vt;function Zt(){if(vt)return et;vt=1;function R(T,B,c,O){for(var t=T&65535|0,r=T>>>16&65535|0,h=0;c!==0;){h=c>2e3?2e3:c,c-=h;do t=t+B[O++]|0,r=r+t|0;while(--h);t%=65521,r%=65521}return t|r<<16|0}return et=R,et}var tt,ct;function Lt(){if(ct)return tt;ct=1;function R(){for(var c,O=[],t=0;t<256;t++){c=t;for(var r=0;r<8;r++)c=c&1?3988292384^c>>>1:c>>>1;O[t]=c}return O}var T=R();function B(c,O,t,r){var h=T,n=r+t;c^=-1;for(var g=r;g<n;g++)c=c>>>8^h[(c^O[g])&255];return c^-1}return tt=B,tt}var rt,gt;function ht(){return gt||(gt=1,rt={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}),rt}var wt;function jt(){if(wt)return Ze;wt=1;var R=Ne(),T=Xt(),B=Zt(),c=Lt(),O=ht(),t=0,r=1,h=3,n=4,g=5,u=0,l=1,s=-2,b=-3,f=-5,m=-1,A=1,_=2,d=3,S=4,z=0,Z=2,L=8,p=9,D=15,U=8,$=29,q=256,F=q+1+$,H=30,Y=19,Q=2*F+1,J=15,K=3,W=258,re=W+K+1,we=32,xe=42,ue=69,he=73,de=91,_e=103,ie=113,le=666,te=1,G=2,Ee=3,ye=4,ee=3;function ve(e,k){return e.msg=O[k],k}function ze(e){return(e<<1)-(e>4?9:0)}function Ae(e){for(var k=e.length;--k>=0;)e[k]=0}function be(e){var k=e.state,E=k.pending;E>e.avail_out&&(E=e.avail_out),E!==0&&(R.arraySet(e.output,k.pending_buf,k.pending_out,E,e.next_out),e.next_out+=E,k.pending_out+=E,e.total_out+=E,e.avail_out-=E,k.pending-=E,k.pending===0&&(k.pending_out=0))}function oe(e,k){T._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,k),e.block_start=e.strstart,be(e.strm)}function ae(e,k){e.pending_buf[e.pending++]=k}function Te(e,k){e.pending_buf[e.pending++]=k>>>8&255,e.pending_buf[e.pending++]=k&255}function Ue(e,k,E,i){var v=e.avail_in;return v>i&&(v=i),v===0?0:(e.avail_in-=v,R.arraySet(k,e.input,e.next_in,v,E),e.state.wrap===1?e.adler=B(e.adler,k,v,E):e.state.wrap===2&&(e.adler=c(e.adler,k,v,E)),e.next_in+=v,e.total_in+=v,v)}function He(e,k){var E=e.max_chain_length,i=e.strstart,v,x,V=e.prev_length,N=e.nice_match,X=e.strstart>e.w_size-re?e.strstart-(e.w_size-re):0,ne=e.window,Be=e.w_mask,se=e.prev,fe=e.strstart+W,ge=ne[i+V-1],Se=ne[i+V];e.prev_length>=e.good_match&&(E>>=2),N>e.lookahead&&(N=e.lookahead);do if(v=k,!(ne[v+V]!==Se||ne[v+V-1]!==ge||ne[v]!==ne[i]||ne[++v]!==ne[i+1])){i+=2,v++;do;while(ne[++i]===ne[++v]&&ne[++i]===ne[++v]&&ne[++i]===ne[++v]&&ne[++i]===ne[++v]&&ne[++i]===ne[++v]&&ne[++i]===ne[++v]&&ne[++i]===ne[++v]&&ne[++i]===ne[++v]&&i<fe);if(x=W-(fe-i),i=fe-W,x>V){if(e.match_start=k,V=x,x>=N)break;ge=ne[i+V-1],Se=ne[i+V]}}while((k=se[k&Be])>X&&--E!==0);return V<=e.lookahead?V:e.lookahead}function Re(e){var k=e.w_size,E,i,v,x,V;do{if(x=e.window_size-e.lookahead-e.strstart,e.strstart>=k+(k-re)){R.arraySet(e.window,e.window,k,k,0),e.match_start-=k,e.strstart-=k,e.block_start-=k,i=e.hash_size,E=i;do v=e.head[--E],e.head[E]=v>=k?v-k:0;while(--i);i=k,E=i;do v=e.prev[--E],e.prev[E]=v>=k?v-k:0;while(--i);x+=k}if(e.strm.avail_in===0)break;if(i=Ue(e.strm,e.window,e.strstart+e.lookahead,x),e.lookahead+=i,e.lookahead+e.insert>=K)for(V=e.strstart-e.insert,e.ins_h=e.window[V],e.ins_h=(e.ins_h<<e.hash_shift^e.window[V+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[V+K-1])&e.hash_mask,e.prev[V&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=V,V++,e.insert--,!(e.lookahead+e.insert<K)););}while(e.lookahead<re&&e.strm.avail_in!==0)}function Ye(e,k){var E=65535;for(E>e.pending_buf_size-5&&(E=e.pending_buf_size-5);;){if(e.lookahead<=1){if(Re(e),e.lookahead===0&&k===t)return te;if(e.lookahead===0)break}e.strstart+=e.lookahead,e.lookahead=0;var i=e.block_start+E;if((e.strstart===0||e.strstart>=i)&&(e.lookahead=e.strstart-i,e.strstart=i,oe(e,!1),e.strm.avail_out===0)||e.strstart-e.block_start>=e.w_size-re&&(oe(e,!1),e.strm.avail_out===0))return te}return e.insert=0,k===n?(oe(e,!0),e.strm.avail_out===0?Ee:ye):(e.strstart>e.block_start&&(oe(e,!1),e.strm.avail_out===0),te)}function qe(e,k){for(var E,i;;){if(e.lookahead<re){if(Re(e),e.lookahead<re&&k===t)return te;if(e.lookahead===0)break}if(E=0,e.lookahead>=K&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+K-1])&e.hash_mask,E=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),E!==0&&e.strstart-E<=e.w_size-re&&(e.match_length=He(e,E)),e.match_length>=K)if(i=T._tr_tally(e,e.strstart-e.match_start,e.match_length-K),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=K){e.match_length--;do e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+K-1])&e.hash_mask,E=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!==0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else i=T._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(i&&(oe(e,!1),e.strm.avail_out===0))return te}return e.insert=e.strstart<K-1?e.strstart:K-1,k===n?(oe(e,!0),e.strm.avail_out===0?Ee:ye):e.last_lit&&(oe(e,!1),e.strm.avail_out===0)?te:G}function Ce(e,k){for(var E,i,v;;){if(e.lookahead<re){if(Re(e),e.lookahead<re&&k===t)return te;if(e.lookahead===0)break}if(E=0,e.lookahead>=K&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+K-1])&e.hash_mask,E=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=K-1,E!==0&&e.prev_length<e.max_lazy_match&&e.strstart-E<=e.w_size-re&&(e.match_length=He(e,E),e.match_length<=5&&(e.strategy===A||e.match_length===K&&e.strstart-e.match_start>4096)&&(e.match_length=K-1)),e.prev_length>=K&&e.match_length<=e.prev_length){v=e.strstart+e.lookahead-K,i=T._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-K),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=v&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+K-1])&e.hash_mask,E=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!==0);if(e.match_available=0,e.match_length=K-1,e.strstart++,i&&(oe(e,!1),e.strm.avail_out===0))return te}else if(e.match_available){if(i=T._tr_tally(e,0,e.window[e.strstart-1]),i&&oe(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return te}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(i=T._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<K-1?e.strstart:K-1,k===n?(oe(e,!0),e.strm.avail_out===0?Ee:ye):e.last_lit&&(oe(e,!1),e.strm.avail_out===0)?te:G}function Xe(e,k){for(var E,i,v,x,V=e.window;;){if(e.lookahead<=W){if(Re(e),e.lookahead<=W&&k===t)return te;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=K&&e.strstart>0&&(v=e.strstart-1,i=V[v],i===V[++v]&&i===V[++v]&&i===V[++v])){x=e.strstart+W;do;while(i===V[++v]&&i===V[++v]&&i===V[++v]&&i===V[++v]&&i===V[++v]&&i===V[++v]&&i===V[++v]&&i===V[++v]&&v<x);e.match_length=W-(x-v),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=K?(E=T._tr_tally(e,1,e.match_length-K),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(E=T._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),E&&(oe(e,!1),e.strm.avail_out===0))return te}return e.insert=0,k===n?(oe(e,!0),e.strm.avail_out===0?Ee:ye):e.last_lit&&(oe(e,!1),e.strm.avail_out===0)?te:G}function Fe(e,k){for(var E;;){if(e.lookahead===0&&(Re(e),e.lookahead===0)){if(k===t)return te;break}if(e.match_length=0,E=T._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,E&&(oe(e,!1),e.strm.avail_out===0))return te}return e.insert=0,k===n?(oe(e,!0),e.strm.avail_out===0?Ee:ye):e.last_lit&&(oe(e,!1),e.strm.avail_out===0)?te:G}function ke(e,k,E,i,v){this.good_length=e,this.max_lazy=k,this.nice_length=E,this.max_chain=i,this.func=v}var Le;Le=[new ke(0,0,0,0,Ye),new ke(4,4,8,4,qe),new ke(4,5,16,8,qe),new ke(4,6,32,32,qe),new ke(4,4,16,16,Ce),new ke(8,16,32,32,Ce),new ke(8,16,128,128,Ce),new ke(8,32,128,256,Ce),new ke(32,128,258,1024,Ce),new ke(32,258,258,4096,Ce)];function je(e){e.window_size=2*e.w_size,Ae(e.head),e.max_lazy_match=Le[e.level].max_lazy,e.good_match=Le[e.level].good_length,e.nice_match=Le[e.level].nice_length,e.max_chain_length=Le[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=K-1,e.match_available=0,e.ins_h=0}function o(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=L,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new R.Buf16(Q*2),this.dyn_dtree=new R.Buf16((2*H+1)*2),this.bl_tree=new R.Buf16((2*Y+1)*2),Ae(this.dyn_ltree),Ae(this.dyn_dtree),Ae(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new R.Buf16(J+1),this.heap=new R.Buf16(2*F+1),Ae(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new R.Buf16(2*F+1),Ae(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function I(e){var k;return!e||!e.state?ve(e,s):(e.total_in=e.total_out=0,e.data_type=Z,k=e.state,k.pending=0,k.pending_out=0,k.wrap<0&&(k.wrap=-k.wrap),k.status=k.wrap?xe:ie,e.adler=k.wrap===2?0:1,k.last_flush=t,T._tr_init(k),u)}function M(e){var k=I(e);return k===u&&je(e.state),k}function j(e,k){return!e||!e.state||e.state.wrap!==2?s:(e.state.gzhead=k,u)}function w(e,k,E,i,v,x){if(!e)return s;var V=1;if(k===m&&(k=6),i<0?(V=0,i=-i):i>15&&(V=2,i-=16),v<1||v>p||E!==L||i<8||i>15||k<0||k>9||x<0||x>S)return ve(e,s);i===8&&(i=9);var N=new o;return e.state=N,N.strm=e,N.wrap=V,N.gzhead=null,N.w_bits=i,N.w_size=1<<N.w_bits,N.w_mask=N.w_size-1,N.hash_bits=v+7,N.hash_size=1<<N.hash_bits,N.hash_mask=N.hash_size-1,N.hash_shift=~~((N.hash_bits+K-1)/K),N.window=new R.Buf8(N.w_size*2),N.head=new R.Buf16(N.hash_size),N.prev=new R.Buf16(N.w_size),N.lit_bufsize=1<<v+6,N.pending_buf_size=N.lit_bufsize*4,N.pending_buf=new R.Buf8(N.pending_buf_size),N.d_buf=1*N.lit_bufsize,N.l_buf=3*N.lit_bufsize,N.level=k,N.strategy=x,N.method=E,M(e)}function y(e,k){return w(e,k,L,D,U,z)}function a(e,k){var E,i,v,x;if(!e||!e.state||k>g||k<0)return e?ve(e,s):s;if(i=e.state,!e.output||!e.input&&e.avail_in!==0||i.status===le&&k!==n)return ve(e,e.avail_out===0?f:s);if(i.strm=e,E=i.last_flush,i.last_flush=k,i.status===xe)if(i.wrap===2)e.adler=0,ae(i,31),ae(i,139),ae(i,8),i.gzhead?(ae(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),ae(i,i.gzhead.time&255),ae(i,i.gzhead.time>>8&255),ae(i,i.gzhead.time>>16&255),ae(i,i.gzhead.time>>24&255),ae(i,i.level===9?2:i.strategy>=_||i.level<2?4:0),ae(i,i.gzhead.os&255),i.gzhead.extra&&i.gzhead.extra.length&&(ae(i,i.gzhead.extra.length&255),ae(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(e.adler=c(e.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=ue):(ae(i,0),ae(i,0),ae(i,0),ae(i,0),ae(i,0),ae(i,i.level===9?2:i.strategy>=_||i.level<2?4:0),ae(i,ee),i.status=ie);else{var V=L+(i.w_bits-8<<4)<<8,N=-1;i.strategy>=_||i.level<2?N=0:i.level<6?N=1:i.level===6?N=2:N=3,V|=N<<6,i.strstart!==0&&(V|=we),V+=31-V%31,i.status=ie,Te(i,V),i.strstart!==0&&(Te(i,e.adler>>>16),Te(i,e.adler&65535)),e.adler=1}if(i.status===ue)if(i.gzhead.extra){for(v=i.pending;i.gzindex<(i.gzhead.extra.length&65535)&&!(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>v&&(e.adler=c(e.adler,i.pending_buf,i.pending-v,v)),be(e),v=i.pending,i.pending===i.pending_buf_size));)ae(i,i.gzhead.extra[i.gzindex]&255),i.gzindex++;i.gzhead.hcrc&&i.pending>v&&(e.adler=c(e.adler,i.pending_buf,i.pending-v,v)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=he)}else i.status=he;if(i.status===he)if(i.gzhead.name){v=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>v&&(e.adler=c(e.adler,i.pending_buf,i.pending-v,v)),be(e),v=i.pending,i.pending===i.pending_buf_size)){x=1;break}i.gzindex<i.gzhead.name.length?x=i.gzhead.name.charCodeAt(i.gzindex++)&255:x=0,ae(i,x)}while(x!==0);i.gzhead.hcrc&&i.pending>v&&(e.adler=c(e.adler,i.pending_buf,i.pending-v,v)),x===0&&(i.gzindex=0,i.status=de)}else i.status=de;if(i.status===de)if(i.gzhead.comment){v=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>v&&(e.adler=c(e.adler,i.pending_buf,i.pending-v,v)),be(e),v=i.pending,i.pending===i.pending_buf_size)){x=1;break}i.gzindex<i.gzhead.comment.length?x=i.gzhead.comment.charCodeAt(i.gzindex++)&255:x=0,ae(i,x)}while(x!==0);i.gzhead.hcrc&&i.pending>v&&(e.adler=c(e.adler,i.pending_buf,i.pending-v,v)),x===0&&(i.status=_e)}else i.status=_e;if(i.status===_e&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&be(e),i.pending+2<=i.pending_buf_size&&(ae(i,e.adler&255),ae(i,e.adler>>8&255),e.adler=0,i.status=ie)):i.status=ie),i.pending!==0){if(be(e),e.avail_out===0)return i.last_flush=-1,u}else if(e.avail_in===0&&ze(k)<=ze(E)&&k!==n)return ve(e,f);if(i.status===le&&e.avail_in!==0)return ve(e,f);if(e.avail_in!==0||i.lookahead!==0||k!==t&&i.status!==le){var X=i.strategy===_?Fe(i,k):i.strategy===d?Xe(i,k):Le[i.level].func(i,k);if((X===Ee||X===ye)&&(i.status=le),X===te||X===Ee)return e.avail_out===0&&(i.last_flush=-1),u;if(X===G&&(k===r?T._tr_align(i):k!==g&&(T._tr_stored_block(i,0,0,!1),k===h&&(Ae(i.head),i.lookahead===0&&(i.strstart=0,i.block_start=0,i.insert=0))),be(e),e.avail_out===0))return i.last_flush=-1,u}return k!==n?u:i.wrap<=0?l:(i.wrap===2?(ae(i,e.adler&255),ae(i,e.adler>>8&255),ae(i,e.adler>>16&255),ae(i,e.adler>>24&255),ae(i,e.total_in&255),ae(i,e.total_in>>8&255),ae(i,e.total_in>>16&255),ae(i,e.total_in>>24&255)):(Te(i,e.adler>>>16),Te(i,e.adler&65535)),be(e),i.wrap>0&&(i.wrap=-i.wrap),i.pending!==0?u:l)}function C(e){var k;return!e||!e.state?s:(k=e.state.status,k!==xe&&k!==ue&&k!==he&&k!==de&&k!==_e&&k!==ie&&k!==le?ve(e,s):(e.state=null,k===ie?ve(e,b):u))}function P(e,k){var E=k.length,i,v,x,V,N,X,ne,Be;if(!e||!e.state||(i=e.state,V=i.wrap,V===2||V===1&&i.status!==xe||i.lookahead))return s;for(V===1&&(e.adler=B(e.adler,k,E,0)),i.wrap=0,E>=i.w_size&&(V===0&&(Ae(i.head),i.strstart=0,i.block_start=0,i.insert=0),Be=new R.Buf8(i.w_size),R.arraySet(Be,k,E-i.w_size,i.w_size,0),k=Be,E=i.w_size),N=e.avail_in,X=e.next_in,ne=e.input,e.avail_in=E,e.next_in=0,e.input=k,Re(i);i.lookahead>=K;){v=i.strstart,x=i.lookahead-(K-1);do i.ins_h=(i.ins_h<<i.hash_shift^i.window[v+K-1])&i.hash_mask,i.prev[v&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=v,v++;while(--x);i.strstart=v,i.lookahead=K-1,Re(i)}return i.strstart+=i.lookahead,i.block_start=i.strstart,i.insert=i.lookahead,i.lookahead=0,i.match_length=i.prev_length=K-1,i.match_available=0,e.next_in=X,e.input=ne,e.avail_in=N,i.wrap=V,u}return Ze.deflateInit=y,Ze.deflateInit2=w,Ze.deflateReset=M,Ze.deflateResetKeep=I,Ze.deflateSetHeader=j,Ze.deflate=a,Ze.deflateEnd=C,Ze.deflateSetDictionary=P,Ze.deflateInfo="pako deflate (from Nodeca project)",Ze}var Ke={},bt;function Ot(){if(bt)return Ke;bt=1;var R=Ne(),T=!0,B=!0;try{String.fromCharCode.apply(null,[0])}catch{T=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{B=!1}for(var c=new R.Buf8(256),O=0;O<256;O++)c[O]=O>=252?6:O>=248?5:O>=240?4:O>=224?3:O>=192?2:1;c[254]=c[254]=1,Ke.string2buf=function(r){var h,n,g,u,l,s=r.length,b=0;for(u=0;u<s;u++)n=r.charCodeAt(u),(n&64512)===55296&&u+1<s&&(g=r.charCodeAt(u+1),(g&64512)===56320&&(n=65536+(n-55296<<10)+(g-56320),u++)),b+=n<128?1:n<2048?2:n<65536?3:4;for(h=new R.Buf8(b),l=0,u=0;l<b;u++)n=r.charCodeAt(u),(n&64512)===55296&&u+1<s&&(g=r.charCodeAt(u+1),(g&64512)===56320&&(n=65536+(n-55296<<10)+(g-56320),u++)),n<128?h[l++]=n:n<2048?(h[l++]=192|n>>>6,h[l++]=128|n&63):n<65536?(h[l++]=224|n>>>12,h[l++]=128|n>>>6&63,h[l++]=128|n&63):(h[l++]=240|n>>>18,h[l++]=128|n>>>12&63,h[l++]=128|n>>>6&63,h[l++]=128|n&63);return h};function t(r,h){if(h<65534&&(r.subarray&&B||!r.subarray&&T))return String.fromCharCode.apply(null,R.shrinkBuf(r,h));for(var n="",g=0;g<h;g++)n+=String.fromCharCode(r[g]);return n}return Ke.buf2binstring=function(r){return t(r,r.length)},Ke.binstring2buf=function(r){for(var h=new R.Buf8(r.length),n=0,g=h.length;n<g;n++)h[n]=r.charCodeAt(n);return h},Ke.buf2string=function(r,h){var n,g,u,l,s=h||r.length,b=new Array(s*2);for(g=0,n=0;n<s;){if(u=r[n++],u<128){b[g++]=u;continue}if(l=c[u],l>4){b[g++]=65533,n+=l-1;continue}for(u&=l===2?31:l===3?15:7;l>1&&n<s;)u=u<<6|r[n++]&63,l--;if(l>1){b[g++]=65533;continue}u<65536?b[g++]=u:(u-=65536,b[g++]=55296|u>>10&1023,b[g++]=56320|u&1023)}return t(b,g)},Ke.utf8border=function(r,h){var n;for(h=h||r.length,h>r.length&&(h=r.length),n=h-1;n>=0&&(r[n]&192)===128;)n--;return n<0||n===0?h:n+c[r[n]]>h?n:h},Ke}var at,pt;function Bt(){if(pt)return at;pt=1;function R(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}return at=R,at}var xt;function Wt(){if(xt)return We;xt=1;var R=jt(),T=Ne(),B=Ot(),c=ht(),O=Bt(),t=Object.prototype.toString,r=0,h=4,n=0,g=1,u=2,l=-1,s=0,b=8;function f(d){if(!(this instanceof f))return new f(d);this.options=T.assign({level:l,method:b,chunkSize:16384,windowBits:15,memLevel:8,strategy:s,to:""},d||{});var S=this.options;S.raw&&S.windowBits>0?S.windowBits=-S.windowBits:S.gzip&&S.windowBits>0&&S.windowBits<16&&(S.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new O,this.strm.avail_out=0;var z=R.deflateInit2(this.strm,S.level,S.method,S.windowBits,S.memLevel,S.strategy);if(z!==n)throw new Error(c[z]);if(S.header&&R.deflateSetHeader(this.strm,S.header),S.dictionary){var Z;if(typeof S.dictionary=="string"?Z=B.string2buf(S.dictionary):t.call(S.dictionary)==="[object ArrayBuffer]"?Z=new Uint8Array(S.dictionary):Z=S.dictionary,z=R.deflateSetDictionary(this.strm,Z),z!==n)throw new Error(c[z]);this._dict_set=!0}}f.prototype.push=function(d,S){var z=this.strm,Z=this.options.chunkSize,L,p;if(this.ended)return!1;p=S===~~S?S:S===!0?h:r,typeof d=="string"?z.input=B.string2buf(d):t.call(d)==="[object ArrayBuffer]"?z.input=new Uint8Array(d):z.input=d,z.next_in=0,z.avail_in=z.input.length;do{if(z.avail_out===0&&(z.output=new T.Buf8(Z),z.next_out=0,z.avail_out=Z),L=R.deflate(z,p),L!==g&&L!==n)return this.onEnd(L),this.ended=!0,!1;(z.avail_out===0||z.avail_in===0&&(p===h||p===u))&&(this.options.to==="string"?this.onData(B.buf2binstring(T.shrinkBuf(z.output,z.next_out))):this.onData(T.shrinkBuf(z.output,z.next_out)))}while((z.avail_in>0||z.avail_out===0)&&L!==g);return p===h?(L=R.deflateEnd(this.strm),this.onEnd(L),this.ended=!0,L===n):(p===u&&(this.onEnd(n),z.avail_out=0),!0)},f.prototype.onData=function(d){this.chunks.push(d)},f.prototype.onEnd=function(d){d===n&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=T.flattenChunks(this.chunks)),this.chunks=[],this.err=d,this.msg=this.strm.msg};function m(d,S){var z=new f(S);if(z.push(d,!0),z.err)throw z.msg||c[z.err];return z.result}function A(d,S){return S=S||{},S.raw=!0,m(d,S)}function _(d,S){return S=S||{},S.gzip=!0,m(d,S)}return We.Deflate=f,We.deflate=m,We.deflateRaw=A,We.gzip=_,We}var Je={},De={},it,kt;function Jt(){if(kt)return it;kt=1;var R=30,T=12;return it=function(c,O){var t,r,h,n,g,u,l,s,b,f,m,A,_,d,S,z,Z,L,p,D,U,$,q,F,H;t=c.state,r=c.next_in,F=c.input,h=r+(c.avail_in-5),n=c.next_out,H=c.output,g=n-(O-c.avail_out),u=n+(c.avail_out-257),l=t.dmax,s=t.wsize,b=t.whave,f=t.wnext,m=t.window,A=t.hold,_=t.bits,d=t.lencode,S=t.distcode,z=(1<<t.lenbits)-1,Z=(1<<t.distbits)-1;e:do{_<15&&(A+=F[r++]<<_,_+=8,A+=F[r++]<<_,_+=8),L=d[A&z];t:for(;;){if(p=L>>>24,A>>>=p,_-=p,p=L>>>16&255,p===0)H[n++]=L&65535;else if(p&16){D=L&65535,p&=15,p&&(_<p&&(A+=F[r++]<<_,_+=8),D+=A&(1<<p)-1,A>>>=p,_-=p),_<15&&(A+=F[r++]<<_,_+=8,A+=F[r++]<<_,_+=8),L=S[A&Z];r:for(;;){if(p=L>>>24,A>>>=p,_-=p,p=L>>>16&255,p&16){if(U=L&65535,p&=15,_<p&&(A+=F[r++]<<_,_+=8,_<p&&(A+=F[r++]<<_,_+=8)),U+=A&(1<<p)-1,U>l){c.msg="invalid distance too far back",t.mode=R;break e}if(A>>>=p,_-=p,p=n-g,U>p){if(p=U-p,p>b&&t.sane){c.msg="invalid distance too far back",t.mode=R;break e}if($=0,q=m,f===0){if($+=s-p,p<D){D-=p;do H[n++]=m[$++];while(--p);$=n-U,q=H}}else if(f<p){if($+=s+f-p,p-=f,p<D){D-=p;do H[n++]=m[$++];while(--p);if($=0,f<D){p=f,D-=p;do H[n++]=m[$++];while(--p);$=n-U,q=H}}}else if($+=f-p,p<D){D-=p;do H[n++]=m[$++];while(--p);$=n-U,q=H}for(;D>2;)H[n++]=q[$++],H[n++]=q[$++],H[n++]=q[$++],D-=3;D&&(H[n++]=q[$++],D>1&&(H[n++]=q[$++]))}else{$=n-U;do H[n++]=H[$++],H[n++]=H[$++],H[n++]=H[$++],D-=3;while(D>2);D&&(H[n++]=H[$++],D>1&&(H[n++]=H[$++]))}}else if(p&64){c.msg="invalid distance code",t.mode=R;break e}else{L=S[(L&65535)+(A&(1<<p)-1)];continue r}break}}else if(p&64)if(p&32){t.mode=T;break e}else{c.msg="invalid literal/length code",t.mode=R;break e}else{L=d[(L&65535)+(A&(1<<p)-1)];continue t}break}}while(r<h&&n<u);D=_>>3,r-=D,_-=D<<3,A&=(1<<_)-1,c.next_in=r,c.next_out=n,c.avail_in=r<h?5+(h-r):5-(r-h),c.avail_out=n<u?257+(u-n):257-(n-u),t.hold=A,t.bits=_},it}var nt,St;function Vt(){if(St)return nt;St=1;var R=Ne(),T=15,B=852,c=592,O=0,t=1,r=2,h=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],n=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],g=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],u=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];return nt=function(s,b,f,m,A,_,d,S){var z=S.bits,Z=0,L=0,p=0,D=0,U=0,$=0,q=0,F=0,H=0,Y=0,Q,J,K,W,re,we=null,xe=0,ue,he=new R.Buf16(T+1),de=new R.Buf16(T+1),_e=null,ie=0,le,te,G;for(Z=0;Z<=T;Z++)he[Z]=0;for(L=0;L<m;L++)he[b[f+L]]++;for(U=z,D=T;D>=1&&he[D]===0;D--);if(U>D&&(U=D),D===0)return A[_++]=1<<24|64<<16|0,A[_++]=1<<24|64<<16|0,S.bits=1,0;for(p=1;p<D&&he[p]===0;p++);for(U<p&&(U=p),F=1,Z=1;Z<=T;Z++)if(F<<=1,F-=he[Z],F<0)return-1;if(F>0&&(s===O||D!==1))return-1;for(de[1]=0,Z=1;Z<T;Z++)de[Z+1]=de[Z]+he[Z];for(L=0;L<m;L++)b[f+L]!==0&&(d[de[b[f+L]]++]=L);if(s===O?(we=_e=d,ue=19):s===t?(we=h,xe-=257,_e=n,ie-=257,ue=256):(we=g,_e=u,ue=-1),Y=0,L=0,Z=p,re=_,$=U,q=0,K=-1,H=1<<U,W=H-1,s===t&&H>B||s===r&&H>c)return 1;for(;;){le=Z-q,d[L]<ue?(te=0,G=d[L]):d[L]>ue?(te=_e[ie+d[L]],G=we[xe+d[L]]):(te=96,G=0),Q=1<<Z-q,J=1<<$,p=J;do J-=Q,A[re+(Y>>q)+J]=le<<24|te<<16|G|0;while(J!==0);for(Q=1<<Z-1;Y&Q;)Q>>=1;if(Q!==0?(Y&=Q-1,Y+=Q):Y=0,L++,--he[Z]===0){if(Z===D)break;Z=b[f+d[L]]}if(Z>U&&(Y&W)!==K){for(q===0&&(q=U),re+=p,$=Z-q,F=1<<$;$+q<D&&(F-=he[$+q],!(F<=0));)$++,F<<=1;if(H+=1<<$,s===t&&H>B||s===r&&H>c)return 1;K=Y&W,A[K]=U<<24|$<<16|re-_|0}}return Y!==0&&(A[re+Y]=Z-q<<24|64<<16|0),S.bits=U,0},nt}var Et;function Qt(){if(Et)return De;Et=1;var R=Ne(),T=Zt(),B=Lt(),c=Jt(),O=Vt(),t=0,r=1,h=2,n=4,g=5,u=6,l=0,s=1,b=2,f=-2,m=-3,A=-4,_=-5,d=8,S=1,z=2,Z=3,L=4,p=5,D=6,U=7,$=8,q=9,F=10,H=11,Y=12,Q=13,J=14,K=15,W=16,re=17,we=18,xe=19,ue=20,he=21,de=22,_e=23,ie=24,le=25,te=26,G=27,Ee=28,ye=29,ee=30,ve=31,ze=32,Ae=852,be=592,oe=15,ae=oe;function Te(w){return(w>>>24&255)+(w>>>8&65280)+((w&65280)<<8)+((w&255)<<24)}function Ue(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new R.Buf16(320),this.work=new R.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function He(w){var y;return!w||!w.state?f:(y=w.state,w.total_in=w.total_out=y.total=0,w.msg="",y.wrap&&(w.adler=y.wrap&1),y.mode=S,y.last=0,y.havedict=0,y.dmax=32768,y.head=null,y.hold=0,y.bits=0,y.lencode=y.lendyn=new R.Buf32(Ae),y.distcode=y.distdyn=new R.Buf32(be),y.sane=1,y.back=-1,l)}function Re(w){var y;return!w||!w.state?f:(y=w.state,y.wsize=0,y.whave=0,y.wnext=0,He(w))}function Ye(w,y){var a,C;return!w||!w.state||(C=w.state,y<0?(a=0,y=-y):(a=(y>>4)+1,y<48&&(y&=15)),y&&(y<8||y>15))?f:(C.window!==null&&C.wbits!==y&&(C.window=null),C.wrap=a,C.wbits=y,Re(w))}function qe(w,y){var a,C;return w?(C=new Ue,w.state=C,C.window=null,a=Ye(w,y),a!==l&&(w.state=null),a):f}function Ce(w){return qe(w,ae)}var Xe=!0,Fe,ke;function Le(w){if(Xe){var y;for(Fe=new R.Buf32(512),ke=new R.Buf32(32),y=0;y<144;)w.lens[y++]=8;for(;y<256;)w.lens[y++]=9;for(;y<280;)w.lens[y++]=7;for(;y<288;)w.lens[y++]=8;for(O(r,w.lens,0,288,Fe,0,w.work,{bits:9}),y=0;y<32;)w.lens[y++]=5;O(h,w.lens,0,32,ke,0,w.work,{bits:5}),Xe=!1}w.lencode=Fe,w.lenbits=9,w.distcode=ke,w.distbits=5}function je(w,y,a,C){var P,e=w.state;return e.window===null&&(e.wsize=1<<e.wbits,e.wnext=0,e.whave=0,e.window=new R.Buf8(e.wsize)),C>=e.wsize?(R.arraySet(e.window,y,a-e.wsize,e.wsize,0),e.wnext=0,e.whave=e.wsize):(P=e.wsize-e.wnext,P>C&&(P=C),R.arraySet(e.window,y,a-C,P,e.wnext),C-=P,C?(R.arraySet(e.window,y,a-C,C,0),e.wnext=C,e.whave=e.wsize):(e.wnext+=P,e.wnext===e.wsize&&(e.wnext=0),e.whave<e.wsize&&(e.whave+=P))),0}function o(w,y){var a,C,P,e,k,E,i,v,x,V,N,X,ne,Be,se=0,fe,ge,Se,me,Qe,Pe,ce,Ie,pe=new R.Buf8(4),Me,Oe,_t=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!w||!w.state||!w.output||!w.input&&w.avail_in!==0)return f;a=w.state,a.mode===Y&&(a.mode=Q),k=w.next_out,P=w.output,i=w.avail_out,e=w.next_in,C=w.input,E=w.avail_in,v=a.hold,x=a.bits,V=E,N=i,Ie=l;e:for(;;)switch(a.mode){case S:if(a.wrap===0){a.mode=Q;break}for(;x<16;){if(E===0)break e;E--,v+=C[e++]<<x,x+=8}if(a.wrap&2&&v===35615){a.check=0,pe[0]=v&255,pe[1]=v>>>8&255,a.check=B(a.check,pe,2,0),v=0,x=0,a.mode=z;break}if(a.flags=0,a.head&&(a.head.done=!1),!(a.wrap&1)||(((v&255)<<8)+(v>>8))%31){w.msg="incorrect header check",a.mode=ee;break}if((v&15)!==d){w.msg="unknown compression method",a.mode=ee;break}if(v>>>=4,x-=4,ce=(v&15)+8,a.wbits===0)a.wbits=ce;else if(ce>a.wbits){w.msg="invalid window size",a.mode=ee;break}a.dmax=1<<ce,w.adler=a.check=1,a.mode=v&512?F:Y,v=0,x=0;break;case z:for(;x<16;){if(E===0)break e;E--,v+=C[e++]<<x,x+=8}if(a.flags=v,(a.flags&255)!==d){w.msg="unknown compression method",a.mode=ee;break}if(a.flags&57344){w.msg="unknown header flags set",a.mode=ee;break}a.head&&(a.head.text=v>>8&1),a.flags&512&&(pe[0]=v&255,pe[1]=v>>>8&255,a.check=B(a.check,pe,2,0)),v=0,x=0,a.mode=Z;case Z:for(;x<32;){if(E===0)break e;E--,v+=C[e++]<<x,x+=8}a.head&&(a.head.time=v),a.flags&512&&(pe[0]=v&255,pe[1]=v>>>8&255,pe[2]=v>>>16&255,pe[3]=v>>>24&255,a.check=B(a.check,pe,4,0)),v=0,x=0,a.mode=L;case L:for(;x<16;){if(E===0)break e;E--,v+=C[e++]<<x,x+=8}a.head&&(a.head.xflags=v&255,a.head.os=v>>8),a.flags&512&&(pe[0]=v&255,pe[1]=v>>>8&255,a.check=B(a.check,pe,2,0)),v=0,x=0,a.mode=p;case p:if(a.flags&1024){for(;x<16;){if(E===0)break e;E--,v+=C[e++]<<x,x+=8}a.length=v,a.head&&(a.head.extra_len=v),a.flags&512&&(pe[0]=v&255,pe[1]=v>>>8&255,a.check=B(a.check,pe,2,0)),v=0,x=0}else a.head&&(a.head.extra=null);a.mode=D;case D:if(a.flags&1024&&(X=a.length,X>E&&(X=E),X&&(a.head&&(ce=a.head.extra_len-a.length,a.head.extra||(a.head.extra=new Array(a.head.extra_len)),R.arraySet(a.head.extra,C,e,X,ce)),a.flags&512&&(a.check=B(a.check,C,X,e)),E-=X,e+=X,a.length-=X),a.length))break e;a.length=0,a.mode=U;case U:if(a.flags&2048){if(E===0)break e;X=0;do ce=C[e+X++],a.head&&ce&&a.length<65536&&(a.head.name+=String.fromCharCode(ce));while(ce&&X<E);if(a.flags&512&&(a.check=B(a.check,C,X,e)),E-=X,e+=X,ce)break e}else a.head&&(a.head.name=null);a.length=0,a.mode=$;case $:if(a.flags&4096){if(E===0)break e;X=0;do ce=C[e+X++],a.head&&ce&&a.length<65536&&(a.head.comment+=String.fromCharCode(ce));while(ce&&X<E);if(a.flags&512&&(a.check=B(a.check,C,X,e)),E-=X,e+=X,ce)break e}else a.head&&(a.head.comment=null);a.mode=q;case q:if(a.flags&512){for(;x<16;){if(E===0)break e;E--,v+=C[e++]<<x,x+=8}if(v!==(a.check&65535)){w.msg="header crc mismatch",a.mode=ee;break}v=0,x=0}a.head&&(a.head.hcrc=a.flags>>9&1,a.head.done=!0),w.adler=a.check=0,a.mode=Y;break;case F:for(;x<32;){if(E===0)break e;E--,v+=C[e++]<<x,x+=8}w.adler=a.check=Te(v),v=0,x=0,a.mode=H;case H:if(a.havedict===0)return w.next_out=k,w.avail_out=i,w.next_in=e,w.avail_in=E,a.hold=v,a.bits=x,b;w.adler=a.check=1,a.mode=Y;case Y:if(y===g||y===u)break e;case Q:if(a.last){v>>>=x&7,x-=x&7,a.mode=G;break}for(;x<3;){if(E===0)break e;E--,v+=C[e++]<<x,x+=8}switch(a.last=v&1,v>>>=1,x-=1,v&3){case 0:a.mode=J;break;case 1:if(Le(a),a.mode=ue,y===u){v>>>=2,x-=2;break e}break;case 2:a.mode=re;break;case 3:w.msg="invalid block type",a.mode=ee}v>>>=2,x-=2;break;case J:for(v>>>=x&7,x-=x&7;x<32;){if(E===0)break e;E--,v+=C[e++]<<x,x+=8}if((v&65535)!==(v>>>16^65535)){w.msg="invalid stored block lengths",a.mode=ee;break}if(a.length=v&65535,v=0,x=0,a.mode=K,y===u)break e;case K:a.mode=W;case W:if(X=a.length,X){if(X>E&&(X=E),X>i&&(X=i),X===0)break e;R.arraySet(P,C,e,X,k),E-=X,e+=X,i-=X,k+=X,a.length-=X;break}a.mode=Y;break;case re:for(;x<14;){if(E===0)break e;E--,v+=C[e++]<<x,x+=8}if(a.nlen=(v&31)+257,v>>>=5,x-=5,a.ndist=(v&31)+1,v>>>=5,x-=5,a.ncode=(v&15)+4,v>>>=4,x-=4,a.nlen>286||a.ndist>30){w.msg="too many length or distance symbols",a.mode=ee;break}a.have=0,a.mode=we;case we:for(;a.have<a.ncode;){for(;x<3;){if(E===0)break e;E--,v+=C[e++]<<x,x+=8}a.lens[_t[a.have++]]=v&7,v>>>=3,x-=3}for(;a.have<19;)a.lens[_t[a.have++]]=0;if(a.lencode=a.lendyn,a.lenbits=7,Me={bits:a.lenbits},Ie=O(t,a.lens,0,19,a.lencode,0,a.work,Me),a.lenbits=Me.bits,Ie){w.msg="invalid code lengths set",a.mode=ee;break}a.have=0,a.mode=xe;case xe:for(;a.have<a.nlen+a.ndist;){for(;se=a.lencode[v&(1<<a.lenbits)-1],fe=se>>>24,ge=se>>>16&255,Se=se&65535,!(fe<=x);){if(E===0)break e;E--,v+=C[e++]<<x,x+=8}if(Se<16)v>>>=fe,x-=fe,a.lens[a.have++]=Se;else{if(Se===16){for(Oe=fe+2;x<Oe;){if(E===0)break e;E--,v+=C[e++]<<x,x+=8}if(v>>>=fe,x-=fe,a.have===0){w.msg="invalid bit length repeat",a.mode=ee;break}ce=a.lens[a.have-1],X=3+(v&3),v>>>=2,x-=2}else if(Se===17){for(Oe=fe+3;x<Oe;){if(E===0)break e;E--,v+=C[e++]<<x,x+=8}v>>>=fe,x-=fe,ce=0,X=3+(v&7),v>>>=3,x-=3}else{for(Oe=fe+7;x<Oe;){if(E===0)break e;E--,v+=C[e++]<<x,x+=8}v>>>=fe,x-=fe,ce=0,X=11+(v&127),v>>>=7,x-=7}if(a.have+X>a.nlen+a.ndist){w.msg="invalid bit length repeat",a.mode=ee;break}for(;X--;)a.lens[a.have++]=ce}}if(a.mode===ee)break;if(a.lens[256]===0){w.msg="invalid code -- missing end-of-block",a.mode=ee;break}if(a.lenbits=9,Me={bits:a.lenbits},Ie=O(r,a.lens,0,a.nlen,a.lencode,0,a.work,Me),a.lenbits=Me.bits,Ie){w.msg="invalid literal/lengths set",a.mode=ee;break}if(a.distbits=6,a.distcode=a.distdyn,Me={bits:a.distbits},Ie=O(h,a.lens,a.nlen,a.ndist,a.distcode,0,a.work,Me),a.distbits=Me.bits,Ie){w.msg="invalid distances set",a.mode=ee;break}if(a.mode=ue,y===u)break e;case ue:a.mode=he;case he:if(E>=6&&i>=258){w.next_out=k,w.avail_out=i,w.next_in=e,w.avail_in=E,a.hold=v,a.bits=x,c(w,N),k=w.next_out,P=w.output,i=w.avail_out,e=w.next_in,C=w.input,E=w.avail_in,v=a.hold,x=a.bits,a.mode===Y&&(a.back=-1);break}for(a.back=0;se=a.lencode[v&(1<<a.lenbits)-1],fe=se>>>24,ge=se>>>16&255,Se=se&65535,!(fe<=x);){if(E===0)break e;E--,v+=C[e++]<<x,x+=8}if(ge&&!(ge&240)){for(me=fe,Qe=ge,Pe=Se;se=a.lencode[Pe+((v&(1<<me+Qe)-1)>>me)],fe=se>>>24,ge=se>>>16&255,Se=se&65535,!(me+fe<=x);){if(E===0)break e;E--,v+=C[e++]<<x,x+=8}v>>>=me,x-=me,a.back+=me}if(v>>>=fe,x-=fe,a.back+=fe,a.length=Se,ge===0){a.mode=te;break}if(ge&32){a.back=-1,a.mode=Y;break}if(ge&64){w.msg="invalid literal/length code",a.mode=ee;break}a.extra=ge&15,a.mode=de;case de:if(a.extra){for(Oe=a.extra;x<Oe;){if(E===0)break e;E--,v+=C[e++]<<x,x+=8}a.length+=v&(1<<a.extra)-1,v>>>=a.extra,x-=a.extra,a.back+=a.extra}a.was=a.length,a.mode=_e;case _e:for(;se=a.distcode[v&(1<<a.distbits)-1],fe=se>>>24,ge=se>>>16&255,Se=se&65535,!(fe<=x);){if(E===0)break e;E--,v+=C[e++]<<x,x+=8}if(!(ge&240)){for(me=fe,Qe=ge,Pe=Se;se=a.distcode[Pe+((v&(1<<me+Qe)-1)>>me)],fe=se>>>24,ge=se>>>16&255,Se=se&65535,!(me+fe<=x);){if(E===0)break e;E--,v+=C[e++]<<x,x+=8}v>>>=me,x-=me,a.back+=me}if(v>>>=fe,x-=fe,a.back+=fe,ge&64){w.msg="invalid distance code",a.mode=ee;break}a.offset=Se,a.extra=ge&15,a.mode=ie;case ie:if(a.extra){for(Oe=a.extra;x<Oe;){if(E===0)break e;E--,v+=C[e++]<<x,x+=8}a.offset+=v&(1<<a.extra)-1,v>>>=a.extra,x-=a.extra,a.back+=a.extra}if(a.offset>a.dmax){w.msg="invalid distance too far back",a.mode=ee;break}a.mode=le;case le:if(i===0)break e;if(X=N-i,a.offset>X){if(X=a.offset-X,X>a.whave&&a.sane){w.msg="invalid distance too far back",a.mode=ee;break}X>a.wnext?(X-=a.wnext,ne=a.wsize-X):ne=a.wnext-X,X>a.length&&(X=a.length),Be=a.window}else Be=P,ne=k-a.offset,X=a.length;X>i&&(X=i),i-=X,a.length-=X;do P[k++]=Be[ne++];while(--X);a.length===0&&(a.mode=he);break;case te:if(i===0)break e;P[k++]=a.length,i--,a.mode=he;break;case G:if(a.wrap){for(;x<32;){if(E===0)break e;E--,v|=C[e++]<<x,x+=8}if(N-=i,w.total_out+=N,a.total+=N,N&&(w.adler=a.check=a.flags?B(a.check,P,N,k-N):T(a.check,P,N,k-N)),N=i,(a.flags?v:Te(v))!==a.check){w.msg="incorrect data check",a.mode=ee;break}v=0,x=0}a.mode=Ee;case Ee:if(a.wrap&&a.flags){for(;x<32;){if(E===0)break e;E--,v+=C[e++]<<x,x+=8}if(v!==(a.total&4294967295)){w.msg="incorrect length check",a.mode=ee;break}v=0,x=0}a.mode=ye;case ye:Ie=s;break e;case ee:Ie=m;break e;case ve:return A;case ze:default:return f}return w.next_out=k,w.avail_out=i,w.next_in=e,w.avail_in=E,a.hold=v,a.bits=x,(a.wsize||N!==w.avail_out&&a.mode<ee&&(a.mode<G||y!==n))&&je(w,w.output,w.next_out,N-w.avail_out),V-=w.avail_in,N-=w.avail_out,w.total_in+=V,w.total_out+=N,a.total+=N,a.wrap&&N&&(w.adler=a.check=a.flags?B(a.check,P,N,w.next_out-N):T(a.check,P,N,w.next_out-N)),w.data_type=a.bits+(a.last?64:0)+(a.mode===Y?128:0)+(a.mode===ue||a.mode===K?256:0),(V===0&&N===0||y===n)&&Ie===l&&(Ie=_),Ie}function I(w){if(!w||!w.state)return f;var y=w.state;return y.window&&(y.window=null),w.state=null,l}function M(w,y){var a;return!w||!w.state||(a=w.state,!(a.wrap&2))?f:(a.head=y,y.done=!1,l)}function j(w,y){var a=y.length,C,P,e;return!w||!w.state||(C=w.state,C.wrap!==0&&C.mode!==H)?f:C.mode===H&&(P=1,P=T(P,y,a,0),P!==C.check)?m:(e=je(w,y,a,a),e?(C.mode=ve,A):(C.havedict=1,l))}return De.inflateReset=Re,De.inflateReset2=Ye,De.inflateResetKeep=He,De.inflateInit=Ce,De.inflateInit2=qe,De.inflate=o,De.inflateEnd=I,De.inflateGetHeader=M,De.inflateSetDictionary=j,De.inflateInfo="pako inflate (from Nodeca project)",De}var ft,yt;function Mt(){return yt||(yt=1,ft={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}),ft}var lt,At;function Pt(){if(At)return lt;At=1;function R(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}return lt=R,lt}var mt;function Gt(){if(mt)return Je;mt=1;var R=Qt(),T=Ne(),B=Ot(),c=Mt(),O=ht(),t=Bt(),r=Pt(),h=Object.prototype.toString;function n(l){if(!(this instanceof n))return new n(l);this.options=T.assign({chunkSize:16384,windowBits:0,to:""},l||{});var s=this.options;s.raw&&s.windowBits>=0&&s.windowBits<16&&(s.windowBits=-s.windowBits,s.windowBits===0&&(s.windowBits=-15)),s.windowBits>=0&&s.windowBits<16&&!(l&&l.windowBits)&&(s.windowBits+=32),s.windowBits>15&&s.windowBits<48&&(s.windowBits&15||(s.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new t,this.strm.avail_out=0;var b=R.inflateInit2(this.strm,s.windowBits);if(b!==c.Z_OK)throw new Error(O[b]);if(this.header=new r,R.inflateGetHeader(this.strm,this.header),s.dictionary&&(typeof s.dictionary=="string"?s.dictionary=B.string2buf(s.dictionary):h.call(s.dictionary)==="[object ArrayBuffer]"&&(s.dictionary=new Uint8Array(s.dictionary)),s.raw&&(b=R.inflateSetDictionary(this.strm,s.dictionary),b!==c.Z_OK)))throw new Error(O[b])}n.prototype.push=function(l,s){var b=this.strm,f=this.options.chunkSize,m=this.options.dictionary,A,_,d,S,z,Z=!1;if(this.ended)return!1;_=s===~~s?s:s===!0?c.Z_FINISH:c.Z_NO_FLUSH,typeof l=="string"?b.input=B.binstring2buf(l):h.call(l)==="[object ArrayBuffer]"?b.input=new Uint8Array(l):b.input=l,b.next_in=0,b.avail_in=b.input.length;do{if(b.avail_out===0&&(b.output=new T.Buf8(f),b.next_out=0,b.avail_out=f),A=R.inflate(b,c.Z_NO_FLUSH),A===c.Z_NEED_DICT&&m&&(A=R.inflateSetDictionary(this.strm,m)),A===c.Z_BUF_ERROR&&Z===!0&&(A=c.Z_OK,Z=!1),A!==c.Z_STREAM_END&&A!==c.Z_OK)return this.onEnd(A),this.ended=!0,!1;b.next_out&&(b.avail_out===0||A===c.Z_STREAM_END||b.avail_in===0&&(_===c.Z_FINISH||_===c.Z_SYNC_FLUSH))&&(this.options.to==="string"?(d=B.utf8border(b.output,b.next_out),S=b.next_out-d,z=B.buf2string(b.output,d),b.next_out=S,b.avail_out=f-S,S&&T.arraySet(b.output,b.output,d,S,0),this.onData(z)):this.onData(T.shrinkBuf(b.output,b.next_out))),b.avail_in===0&&b.avail_out===0&&(Z=!0)}while((b.avail_in>0||b.avail_out===0)&&A!==c.Z_STREAM_END);return A===c.Z_STREAM_END&&(_=c.Z_FINISH),_===c.Z_FINISH?(A=R.inflateEnd(this.strm),this.onEnd(A),this.ended=!0,A===c.Z_OK):(_===c.Z_SYNC_FLUSH&&(this.onEnd(c.Z_OK),b.avail_out=0),!0)},n.prototype.onData=function(l){this.chunks.push(l)},n.prototype.onEnd=function(l){l===c.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=T.flattenChunks(this.chunks)),this.chunks=[],this.err=l,this.msg=this.strm.msg};function g(l,s){var b=new n(s);if(b.push(l,!0),b.err)throw b.msg||O[b.err];return b.result}function u(l,s){return s=s||{},s.raw=!0,g(l,s)}return Je.Inflate=n,Je.inflate=g,Je.inflateRaw=u,Je.ungzip=g,Je}var ot,zt;function er(){if(zt)return ot;zt=1;var R=Ne().assign,T=Wt(),B=Gt(),c=Mt(),O={};return R(O,T,B,c),ot=O,ot}(function(R){(function(){var T={},B;R.exports=T,typeof Yt=="function"?B=er():B=window.pako,function(c,O){c.toRGBA8=function(t){var r=t.width,h=t.height;if(t.tabs.acTL==null)return[c.toRGBA8.decodeImage(t.data,r,h,t).buffer];var n=[];t.frames[0].data==null&&(t.frames[0].data=t.data);for(var g,u=new Uint8Array(r*h*4),l=0;l<t.frames.length;l++){var s=t.frames[l],b=s.rect.x,f=s.rect.y,m=s.rect.width,A=s.rect.height,_=c.toRGBA8.decodeImage(s.data,m,A,t);if(l==0?g=_:s.blend==0?c._copyTile(_,m,A,g,r,h,b,f,0):s.blend==1&&c._copyTile(_,m,A,g,r,h,b,f,1),n.push(g.buffer),g=g.slice(0),s.dispose!=0){if(s.dispose==1)c._copyTile(u,m,A,g,r,h,b,f,0);else if(s.dispose==2){for(var d=l-1;t.frames[d].dispose==2;)d--;g=new Uint8Array(n[d]).slice(0)}}}return n},c.toRGBA8.decodeImage=function(t,r,h,n){var g=r*h,u=c.decode._getBPP(n),l=Math.ceil(r*u/8),s=new Uint8Array(g*4),b=new Uint32Array(s.buffer),f=n.ctype,m=n.depth,A=c._bin.readUshort;if(f==6){var _=g<<2;if(m==8)for(var d=0;d<_;d++)s[d]=t[d];if(m==16)for(var d=0;d<_;d++)s[d]=t[d<<1]}else if(f==2){var S=n.tabs.tRNS,z=-1,Z=-1,L=-1;if(S&&(z=S[0],Z=S[1],L=S[2]),m==8)for(var d=0;d<g;d++){var p=d<<2,D=d*3;s[p]=t[D],s[p+1]=t[D+1],s[p+2]=t[D+2],s[p+3]=255,z!=-1&&t[D]==z&&t[D+1]==Z&&t[D+2]==L&&(s[p+3]=0)}if(m==16)for(var d=0;d<g;d++){var p=d<<2,D=d*6;s[p]=t[D],s[p+1]=t[D+2],s[p+2]=t[D+4],s[p+3]=255,z!=-1&&A(t,D)==z&&A(t,D+2)==Z&&A(t,D+4)==L&&(s[p+3]=0)}}else if(f==3){var U=n.tabs.PLTE,$=n.tabs.tRNS,q=$?$.length:0;if(m==1)for(var F=0;F<h;F++)for(var H=F*l,Y=F*r,d=0;d<r;d++){var p=Y+d<<2,Q=t[H+(d>>3)]>>7-((d&7)<<0)&1,J=3*Q;s[p]=U[J],s[p+1]=U[J+1],s[p+2]=U[J+2],s[p+3]=Q<q?$[Q]:255}if(m==2)for(var F=0;F<h;F++)for(var H=F*l,Y=F*r,d=0;d<r;d++){var p=Y+d<<2,Q=t[H+(d>>2)]>>6-((d&3)<<1)&3,J=3*Q;s[p]=U[J],s[p+1]=U[J+1],s[p+2]=U[J+2],s[p+3]=Q<q?$[Q]:255}if(m==4)for(var F=0;F<h;F++)for(var H=F*l,Y=F*r,d=0;d<r;d++){var p=Y+d<<2,Q=t[H+(d>>1)]>>4-((d&1)<<2)&15,J=3*Q;s[p]=U[J],s[p+1]=U[J+1],s[p+2]=U[J+2],s[p+3]=Q<q?$[Q]:255}if(m==8)for(var d=0;d<g;d++){var p=d<<2,Q=t[d],J=3*Q;s[p]=U[J],s[p+1]=U[J+1],s[p+2]=U[J+2],s[p+3]=Q<q?$[Q]:255}}else if(f==4){if(m==8)for(var d=0;d<g;d++){var p=d<<2,K=d<<1,W=t[K];s[p]=W,s[p+1]=W,s[p+2]=W,s[p+3]=t[K+1]}if(m==16)for(var d=0;d<g;d++){var p=d<<2,K=d<<2,W=t[K];s[p]=W,s[p+1]=W,s[p+2]=W,s[p+3]=t[K+2]}}else if(f==0){var z=n.tabs.tRNS?n.tabs.tRNS:-1;if(m==1)for(var d=0;d<g;d++){var W=255*(t[d>>3]>>7-(d&7)&1),re=W==z*255?0:255;b[d]=re<<24|W<<16|W<<8|W}if(m==2)for(var d=0;d<g;d++){var W=85*(t[d>>2]>>6-((d&3)<<1)&3),re=W==z*85?0:255;b[d]=re<<24|W<<16|W<<8|W}if(m==4)for(var d=0;d<g;d++){var W=17*(t[d>>1]>>4-((d&1)<<2)&15),re=W==z*17?0:255;b[d]=re<<24|W<<16|W<<8|W}if(m==8)for(var d=0;d<g;d++){var W=t[d],re=W==z?0:255;b[d]=re<<24|W<<16|W<<8|W}if(m==16)for(var d=0;d<g;d++){var W=t[d<<1],re=A(t,d<<1)==z?0:255;b[d]=re<<24|W<<16|W<<8|W}}return s},c.decode=function(t){for(var r=new Uint8Array(t),h=8,n=c._bin,g=n.readUshort,u=n.readUint,l={tabs:{},frames:[]},s=new Uint8Array(r.length),b=0,f,m=0,A=[137,80,78,71,13,10,26,10],_=0;_<8;_++)if(r[_]!=A[_])throw"The input is not a PNG file!";for(;h<r.length;){var d=n.readUint(r,h);h+=4;var S=n.readASCII(r,h,4);if(h+=4,S=="IHDR")c.decode._IHDR(r,h,l);else if(S=="IDAT"){for(var _=0;_<d;_++)s[b+_]=r[h+_];b+=d}else if(S=="acTL")l.tabs[S]={num_frames:u(r,h),num_plays:u(r,h+4)},f=new Uint8Array(r.length);else if(S=="fcTL"){if(m!=0){var z=l.frames[l.frames.length-1];z.data=c.decode._decompress(l,f.slice(0,m),z.rect.width,z.rect.height),m=0}var Z={x:u(r,h+12),y:u(r,h+16),width:u(r,h+4),height:u(r,h+8)},L=g(r,h+22);L=g(r,h+20)/(L==0?100:L);var p={rect:Z,delay:Math.round(L*1e3),dispose:r[h+24],blend:r[h+25]};l.frames.push(p)}else if(S=="fdAT"){for(var _=0;_<d-4;_++)f[m+_]=r[h+_+4];m+=d-4}else if(S=="pHYs")l.tabs[S]=[n.readUint(r,h),n.readUint(r,h+4),r[h+8]];else if(S=="cHRM"){l.tabs[S]=[];for(var _=0;_<8;_++)l.tabs[S].push(n.readUint(r,h+_*4))}else if(S=="tEXt"){l.tabs[S]==null&&(l.tabs[S]={});var D=n.nextZero(r,h),U=n.readASCII(r,h,D-h),$=n.readASCII(r,D+1,h+d-D-1);l.tabs[S][U]=$}else if(S=="iTXt"){l.tabs[S]==null&&(l.tabs[S]={});var D=0,q=h;D=n.nextZero(r,q);var U=n.readASCII(r,q,D-q);q=D+1,r[q],r[q+1],q+=2,D=n.nextZero(r,q),n.readASCII(r,q,D-q),q=D+1,D=n.nextZero(r,q),n.readUTF8(r,q,D-q),q=D+1;var $=n.readUTF8(r,q,d-(q-h));l.tabs[S][U]=$}else if(S=="PLTE")l.tabs[S]=n.readBytes(r,h,d);else if(S=="hIST"){var F=l.tabs.PLTE.length/3;l.tabs[S]=[];for(var _=0;_<F;_++)l.tabs[S].push(g(r,h+_*2))}else if(S=="tRNS")l.ctype==3?l.tabs[S]=n.readBytes(r,h,d):l.ctype==0?l.tabs[S]=g(r,h):l.ctype==2&&(l.tabs[S]=[g(r,h),g(r,h+2),g(r,h+4)]);else if(S=="gAMA")l.tabs[S]=n.readUint(r,h)/1e5;else if(S=="sRGB")l.tabs[S]=r[h];else if(S=="bKGD")l.ctype==0||l.ctype==4?l.tabs[S]=[g(r,h)]:l.ctype==2||l.ctype==6?l.tabs[S]=[g(r,h),g(r,h+2),g(r,h+4)]:l.ctype==3&&(l.tabs[S]=r[h]);else if(S=="IEND"){if(m!=0){var z=l.frames[l.frames.length-1];z.data=c.decode._decompress(l,f.slice(0,m),z.rect.width,z.rect.height),m=0}l.data=c.decode._decompress(l,s,l.width,l.height);break}h+=d,n.readUint(r,h),h+=4}return delete l.compress,delete l.interlace,delete l.filter,l},c.decode._decompress=function(t,r,h,n){return t.compress==0&&(r=c.decode._inflate(r)),t.interlace==0?r=c.decode._filterZero(r,t,0,h,n):t.interlace==1&&(r=c.decode._readInterlace(r,t)),r},c.decode._inflate=function(t){return O.inflate(t)},c.decode._readInterlace=function(t,r){for(var h=r.width,n=r.height,g=c.decode._getBPP(r),u=g>>3,l=Math.ceil(h*g/8),s=new Uint8Array(n*l),b=0,f=[0,0,4,0,2,0,1],m=[0,4,0,2,0,1,0],A=[8,8,8,4,4,2,2],_=[8,8,4,4,2,2,1],d=0;d<7;){for(var S=A[d],z=_[d],Z=0,L=0,p=f[d];p<n;)p+=S,L++;for(var D=m[d];D<h;)D+=z,Z++;var U=Math.ceil(Z*g/8);c.decode._filterZero(t,r,b,Z,L);for(var $=0,q=f[d];q<n;){for(var F=m[d],H=b+$*U<<3;F<h;){if(g==1){var Y=t[H>>3];Y=Y>>7-(H&7)&1,s[q*l+(F>>3)]|=Y<<7-((F&3)<<0)}if(g==2){var Y=t[H>>3];Y=Y>>6-(H&7)&3,s[q*l+(F>>2)]|=Y<<6-((F&3)<<1)}if(g==4){var Y=t[H>>3];Y=Y>>4-(H&7)&15,s[q*l+(F>>1)]|=Y<<4-((F&1)<<2)}if(g>=8)for(var Q=q*l+F*u,J=0;J<u;J++)s[Q+J]=t[(H>>3)+J];H+=g,F+=z}$++,q+=S}Z*L!=0&&(b+=L*(1+U)),d=d+1}return s},c.decode._getBPP=function(t){var r=[1,null,3,1,2,null,4][t.ctype];return r*t.depth},c.decode._filterZero=function(t,r,h,n,g){var u=c.decode._getBPP(r),l=Math.ceil(n*u/8),s=c.decode._paeth;u=Math.ceil(u/8);for(var b=0;b<g;b++){var f=h+b*l,m=f+b+1,A=t[m-1];if(A==0)for(var _=0;_<l;_++)t[f+_]=t[m+_];else if(A==1){for(var _=0;_<u;_++)t[f+_]=t[m+_];for(var _=u;_<l;_++)t[f+_]=t[m+_]+t[f+_-u]&255}else if(b==0){for(var _=0;_<u;_++)t[f+_]=t[m+_];if(A==2)for(var _=u;_<l;_++)t[f+_]=t[m+_]&255;if(A==3)for(var _=u;_<l;_++)t[f+_]=t[m+_]+(t[f+_-u]>>1)&255;if(A==4)for(var _=u;_<l;_++)t[f+_]=t[m+_]+s(t[f+_-u],0,0)&255}else{if(A==2)for(var _=0;_<l;_++)t[f+_]=t[m+_]+t[f+_-l]&255;if(A==3){for(var _=0;_<u;_++)t[f+_]=t[m+_]+(t[f+_-l]>>1)&255;for(var _=u;_<l;_++)t[f+_]=t[m+_]+(t[f+_-l]+t[f+_-u]>>1)&255}if(A==4){for(var _=0;_<u;_++)t[f+_]=t[m+_]+s(0,t[f+_-l],0)&255;for(var _=u;_<l;_++)t[f+_]=t[m+_]+s(t[f+_-u],t[f+_-l],t[f+_-u-l])&255}}}return t},c.decode._paeth=function(t,r,h){var n=t+r-h,g=Math.abs(n-t),u=Math.abs(n-r),l=Math.abs(n-h);return g<=u&&g<=l?t:u<=l?r:h},c.decode._IHDR=function(t,r,h){var n=c._bin;h.width=n.readUint(t,r),r+=4,h.height=n.readUint(t,r),r+=4,h.depth=t[r],r++,h.ctype=t[r],r++,h.compress=t[r],r++,h.filter=t[r],r++,h.interlace=t[r],r++},c._bin={nextZero:function(t,r){for(;t[r]!=0;)r++;return r},readUshort:function(t,r){return t[r]<<8|t[r+1]},writeUshort:function(t,r,h){t[r]=h>>8&255,t[r+1]=h&255},readUint:function(t,r){return t[r]*(256*256*256)+(t[r+1]<<16|t[r+2]<<8|t[r+3])},writeUint:function(t,r,h){t[r]=h>>24&255,t[r+1]=h>>16&255,t[r+2]=h>>8&255,t[r+3]=h&255},readASCII:function(t,r,h){for(var n="",g=0;g<h;g++)n+=String.fromCharCode(t[r+g]);return n},writeASCII:function(t,r,h){for(var n=0;n<h.length;n++)t[r+n]=h.charCodeAt(n)},readBytes:function(t,r,h){for(var n=[],g=0;g<h;g++)n.push(t[r+g]);return n},pad:function(t){return t.length<2?"0"+t:t},readUTF8:function(t,r,h){for(var n="",g,u=0;u<h;u++)n+="%"+c._bin.pad(t[r+u].toString(16));try{g=decodeURIComponent(n)}catch{return c._bin.readASCII(t,r,h)}return g}},c._copyTile=function(t,r,h,n,g,u,l,s,b){for(var f=Math.min(r,g),m=Math.min(h,u),A=0,_=0,d=0;d<m;d++)for(var S=0;S<f;S++)if(l>=0&&s>=0?(A=d*r+S<<2,_=(s+d)*g+l+S<<2):(A=(-s+d)*r-l+S<<2,_=d*g+S<<2),b==0)n[_]=t[A],n[_+1]=t[A+1],n[_+2]=t[A+2],n[_+3]=t[A+3];else if(b==1){var z=t[A+3]*.00392156862745098,Z=t[A]*z,L=t[A+1]*z,p=t[A+2]*z,D=n[_+3]*(1/255),U=n[_]*D,$=n[_+1]*D,q=n[_+2]*D,F=1-z,H=z+D*F,Y=H==0?0:1/H;n[_+3]=255*H,n[_+0]=(Z+U*F)*Y,n[_+1]=(L+$*F)*Y,n[_+2]=(p+q*F)*Y}else if(b==2){var z=t[A+3],Z=t[A],L=t[A+1],p=t[A+2],D=n[_+3],U=n[_],$=n[_+1],q=n[_+2];z==D&&Z==U&&L==$&&p==q?(n[_]=0,n[_+1]=0,n[_+2]=0,n[_+3]=0):(n[_]=Z,n[_+1]=L,n[_+2]=p,n[_+3]=z)}else if(b==3){var z=t[A+3],Z=t[A],L=t[A+1],p=t[A+2],D=n[_+3],U=n[_],$=n[_+1],q=n[_+2];if(z==D&&Z==U&&L==$&&p==q)continue;if(z<220&&D>20)return!1}return!0},c.encode=function(t,r,h,n,g,u){n==null&&(n=0),u==null&&(u=!1);for(var l=new Uint8Array(t[0].byteLength*t.length+100),s=[137,80,78,71,13,10,26,10],b=0;b<8;b++)l[b]=s[b];var f=8,m=c._bin,A=c.crc.crc,_=m.writeUint,d=m.writeUshort,S=m.writeASCII,z=c.encode.compressPNG(t,r,h,n,u);_(l,f,13),f+=4,S(l,f,"IHDR"),f+=4,_(l,f,r),f+=4,_(l,f,h),f+=4,l[f]=z.depth,f++,l[f]=z.ctype,f++,l[f]=0,f++,l[f]=0,f++,l[f]=0,f++,_(l,f,A(l,f-17,17)),f+=4,_(l,f,1),f+=4,S(l,f,"sRGB"),f+=4,l[f]=1,f++,_(l,f,A(l,f-5,5)),f+=4;var Z=t.length>1;if(Z&&(_(l,f,8),f+=4,S(l,f,"acTL"),f+=4,_(l,f,t.length),f+=4,_(l,f,0),f+=4,_(l,f,A(l,f-12,12)),f+=4),z.ctype==3){var L=z.plte.length;_(l,f,L*3),f+=4,S(l,f,"PLTE"),f+=4;for(var b=0;b<L;b++){var p=b*3,D=z.plte[b],U=D&255,$=D>>8&255,q=D>>16&255;l[f+p+0]=U,l[f+p+1]=$,l[f+p+2]=q}if(f+=L*3,_(l,f,A(l,f-L*3-4,L*3+4)),f+=4,z.gotAlpha){_(l,f,L),f+=4,S(l,f,"tRNS"),f+=4;for(var b=0;b<L;b++)l[f+b]=z.plte[b]>>24&255;f+=L,_(l,f,A(l,f-L-4,L+4)),f+=4}}for(var F=0,H=0;H<z.frames.length;H++){var Y=z.frames[H];Z&&(_(l,f,26),f+=4,S(l,f,"fcTL"),f+=4,_(l,f,F++),f+=4,_(l,f,Y.rect.width),f+=4,_(l,f,Y.rect.height),f+=4,_(l,f,Y.rect.x),f+=4,_(l,f,Y.rect.y),f+=4,d(l,f,g[H]),f+=2,d(l,f,1e3),f+=2,l[f]=Y.dispose,f++,l[f]=Y.blend,f++,_(l,f,A(l,f-30,30)),f+=4);var Q=Y.cimg,L=Q.length;_(l,f,L+(H==0?0:4)),f+=4;var J=f;S(l,f,H==0?"IDAT":"fdAT"),f+=4,H!=0&&(_(l,f,F++),f+=4);for(var b=0;b<L;b++)l[f+b]=Q[b];f+=L,_(l,f,A(l,J,f-J)),f+=4}return _(l,f,0),f+=4,S(l,f,"IEND"),f+=4,_(l,f,A(l,f-4,4)),f+=4,l.buffer.slice(0,f)},c.encode.compressPNG=function(t,r,h,n,g){for(var u=c.encode.compress(t,r,h,n,!1,g),l=0;l<t.length;l++){var s=u.frames[l];s.rect.width;var b=s.rect.height,f=s.bpl,m=s.bpp,A=new Uint8Array(b*f+b);s.cimg=c.encode._filterZero(s.img,b,m,f,A)}return u},c.encode.compress=function(t,r,h,n,g,u){u==null&&(u=!1);for(var l=6,s=8,b=4,f=255,m=0;m<t.length;m++)for(var A=new Uint8Array(t[m]),_=A.length,d=0;d<_;d+=4)f&=A[d+3];var S=f!=255,z={},Z=[];if(t.length!=0&&(z[0]=0,Z.push(0),n!=0&&n--),n!=0){var L=c.quantize(t,n,g);t=L.bufs;for(var d=0;d<L.plte.length;d++){var p=L.plte[d].est.rgba;z[p]==null&&(z[p]=Z.length,Z.push(p))}}else for(var m=0;m<t.length;m++)for(var D=new Uint32Array(t[m]),_=D.length,d=0;d<_;d++){var p=D[d];if((d<r||p!=D[d-1]&&p!=D[d-r])&&z[p]==null&&(z[p]=Z.length,Z.push(p),Z.length>=300))break}var U=S?g:!1,$=Z.length;$<=256&&u==!1&&($<=2?s=1:$<=4?s=2:$<=16?s=4:s=8,g&&(s=8),S=!0);for(var q=[],m=0;m<t.length;m++){var F=new Uint8Array(t[m]),H=new Uint32Array(F.buffer),Y=0,Q=0,J=r,K=h,W=0;if(m!=0&&!U){for(var re=g||m==1||q[q.length-2].dispose==2?1:2,we=0,xe=1e9,ue=0;ue<re;ue++){for(var ye=new Uint8Array(t[m-1-ue]),he=new Uint32Array(t[m-1-ue]),de=r,_e=h,ie=-1,le=-1,te=0;te<h;te++)for(var G=0;G<r;G++){var d=te*r+G;H[d]!=he[d]&&(G<de&&(de=G),G>ie&&(ie=G),te<_e&&(_e=te),te>le&&(le=te))}var Ee=ie==-1?1:(ie-de+1)*(le-_e+1);Ee<xe&&(xe=Ee,we=ue,ie==-1?(Y=Q=0,J=K=1):(Y=de,Q=_e,J=ie-de+1,K=le-_e+1))}var ye=new Uint8Array(t[m-1-we]);we==1&&(q[q.length-1].dispose=2);var ee=new Uint8Array(J*K*4);new Uint32Array(ee.buffer),c._copyTile(ye,r,h,ee,J,K,-Y,-Q,0),c._copyTile(F,r,h,ee,J,K,-Y,-Q,3)?(c._copyTile(F,r,h,ee,J,K,-Y,-Q,2),W=1):(c._copyTile(F,r,h,ee,J,K,-Y,-Q,0),W=0),F=ee,H=new Uint32Array(F.buffer)}var ve=4*J;if($<=256&&u==!1){ve=Math.ceil(s*J/8);for(var ee=new Uint8Array(ve*K),te=0;te<K;te++){var d=te*ve,ze=te*J;if(s==8)for(var G=0;G<J;G++)ee[d+G]=z[H[ze+G]];else if(s==4)for(var G=0;G<J;G++)ee[d+(G>>1)]|=z[H[ze+G]]<<4-(G&1)*4;else if(s==2)for(var G=0;G<J;G++)ee[d+(G>>2)]|=z[H[ze+G]]<<6-(G&3)*2;else if(s==1)for(var G=0;G<J;G++)ee[d+(G>>3)]|=z[H[ze+G]]<<7-(G&7)*1}F=ee,l=3,b=1}else if(S==!1&&t.length==1){for(var ee=new Uint8Array(J*K*3),Ae=J*K,d=0;d<Ae;d++){var be=d*3,oe=d*4;ee[be]=F[oe],ee[be+1]=F[oe+1],ee[be+2]=F[oe+2]}F=ee,l=2,b=3,ve=3*J}q.push({rect:{x:Y,y:Q,width:J,height:K},img:F,bpl:ve,bpp:b,blend:W,dispose:U?1:0})}return{ctype:l,depth:s,plte:Z,gotAlpha:S,frames:q}},c.encode._filterZero=function(t,r,h,n,g){for(var u=[],l=0;l<5;l++)if(!(r*n>5e5&&(l==2||l==3||l==4))){for(var s=0;s<r;s++)c.encode._filterLine(g,t,s,n,h,l);if(u.push(O.deflate(g)),h==1)break}for(var b,f=1e9,m=0;m<u.length;m++)u[m].length<f&&(b=m,f=u[m].length);return u[b]},c.encode._filterLine=function(t,r,h,n,g,u){var l=h*n,s=l+h,b=c.decode._paeth;if(t[s]=u,s++,u==0)for(var f=0;f<n;f++)t[s+f]=r[l+f];else if(u==1){for(var f=0;f<g;f++)t[s+f]=r[l+f];for(var f=g;f<n;f++)t[s+f]=r[l+f]-r[l+f-g]+256&255}else if(h==0){for(var f=0;f<g;f++)t[s+f]=r[l+f];if(u==2)for(var f=g;f<n;f++)t[s+f]=r[l+f];if(u==3)for(var f=g;f<n;f++)t[s+f]=r[l+f]-(r[l+f-g]>>1)+256&255;if(u==4)for(var f=g;f<n;f++)t[s+f]=r[l+f]-b(r[l+f-g],0,0)+256&255}else{if(u==2)for(var f=0;f<n;f++)t[s+f]=r[l+f]+256-r[l+f-n]&255;if(u==3){for(var f=0;f<g;f++)t[s+f]=r[l+f]+256-(r[l+f-n]>>1)&255;for(var f=g;f<n;f++)t[s+f]=r[l+f]+256-(r[l+f-n]+r[l+f-g]>>1)&255}if(u==4){for(var f=0;f<g;f++)t[s+f]=r[l+f]+256-b(0,r[l+f-n],0)&255;for(var f=g;f<n;f++)t[s+f]=r[l+f]+256-b(r[l+f-g],r[l+f-n],r[l+f-g-n])&255}}},c.crc={table:function(){for(var t=new Uint32Array(256),r=0;r<256;r++){for(var h=r,n=0;n<8;n++)h&1?h=3988292384^h>>>1:h=h>>>1;t[r]=h}return t}(),update:function(t,r,h,n){for(var g=0;g<n;g++)t=c.crc.table[(t^r[h+g])&255]^t>>>8;return t},crc:function(t,r,h){return c.crc.update(4294967295,t,r,h)^4294967295}},c.quantize=function(t,r,h){for(var n=[],g=0,u=0;u<t.length;u++)n.push(c.encode.alphaMul(new Uint8Array(t[u]),h)),g+=t[u].byteLength;for(var l=new Uint8Array(g),s=new Uint32Array(l.buffer),b=0,u=0;u<n.length;u++){for(var f=n[u],m=f.length,A=0;A<m;A++)l[b+A]=f[A];b+=m}var _={i0:0,i1:l.length,bst:null,est:null,tdst:0,left:null,right:null};_.bst=c.quantize.stats(l,_.i0,_.i1),_.est=c.quantize.estats(_.bst);for(var d=[_];d.length<r;){for(var S=0,z=0,u=0;u<d.length;u++)d[u].est.L>S&&(S=d[u].est.L,z=u);if(S<.001)break;var Z=d[z],L=c.quantize.splitPixels(l,s,Z.i0,Z.i1,Z.est.e,Z.est.eMq255),p={i0:Z.i0,i1:L,bst:null,est:null,tdst:0,left:null,right:null};p.bst=c.quantize.stats(l,p.i0,p.i1),p.est=c.quantize.estats(p.bst);var D={i0:L,i1:Z.i1,bst:null,est:null,tdst:0,left:null,right:null};D.bst={R:[],m:[],N:Z.bst.N-p.bst.N};for(var u=0;u<16;u++)D.bst.R[u]=Z.bst.R[u]-p.bst.R[u];for(var u=0;u<4;u++)D.bst.m[u]=Z.bst.m[u]-p.bst.m[u];D.est=c.quantize.estats(D.bst),Z.left=p,Z.right=D,d[z]=p,d.push(D)}d.sort(function(re,we){return we.bst.N-re.bst.N});for(var U=0;U<n.length;U++){for(var $=c.quantize.planeDst,q=new Uint8Array(n[U].buffer),F=new Uint32Array(n[U].buffer),H=q.length,u=0;u<H;u+=4){for(var Y=q[u]*.00392156862745098,Q=q[u+1]*(1/255),J=q[u+2]*(1/255),K=q[u+3]*(1/255),W=_;W.left;)W=$(W.est,Y,Q,J,K)<=0?W.left:W.right;F[u>>2]=W.est.rgba}n[U]=F.buffer}return{bufs:n,plte:d}},c.quantize.getNearest=function(t,r,h,n,g){if(t.left==null)return t.tdst=c.quantize.dist(t.est.q,r,h,n,g),t;var u=c.quantize.planeDst(t.est,r,h,n,g),l=t.left,s=t.right;u>0&&(l=t.right,s=t.left);var b=c.quantize.getNearest(l,r,h,n,g);if(b.tdst<=u*u)return b;var f=c.quantize.getNearest(s,r,h,n,g);return f.tdst<b.tdst?f:b},c.quantize.planeDst=function(t,r,h,n,g){var u=t.e;return u[0]*r+u[1]*h+u[2]*n+u[3]*g-t.eMq},c.quantize.dist=function(t,r,h,n,g){var u=r-t[0],l=h-t[1],s=n-t[2],b=g-t[3];return u*u+l*l+s*s+b*b},c.quantize.splitPixels=function(t,r,h,n,g,u){var l=c.quantize.vecDot;for(n-=4;h<n;){for(;l(t,h,g)<=u;)h+=4;for(;l(t,n,g)>u;)n-=4;if(h>=n)break;var s=r[h>>2];r[h>>2]=r[n>>2],r[n>>2]=s,h+=4,n-=4}for(;l(t,h,g)>u;)h-=4;return h+4},c.quantize.vecDot=function(t,r,h){return t[r]*h[0]+t[r+1]*h[1]+t[r+2]*h[2]+t[r+3]*h[3]},c.quantize.stats=function(t,r,h){for(var n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],g=[0,0,0,0],u=h-r>>2,l=r;l<h;l+=4){var s=t[l]*.00392156862745098,b=t[l+1]*(1/255),f=t[l+2]*(1/255),m=t[l+3]*(1/255);g[0]+=s,g[1]+=b,g[2]+=f,g[3]+=m,n[0]+=s*s,n[1]+=s*b,n[2]+=s*f,n[3]+=s*m,n[5]+=b*b,n[6]+=b*f,n[7]+=b*m,n[10]+=f*f,n[11]+=f*m,n[15]+=m*m}return n[4]=n[1],n[8]=n[2],n[12]=n[3],n[9]=n[6],n[13]=n[7],n[14]=n[11],{R:n,m:g,N:u}},c.quantize.estats=function(t){var r=t.R,h=t.m,n=t.N,g=h[0],u=h[1],l=h[2],s=h[3],b=n==0?0:1/n,f=[r[0]-g*g*b,r[1]-g*u*b,r[2]-g*l*b,r[3]-g*s*b,r[4]-u*g*b,r[5]-u*u*b,r[6]-u*l*b,r[7]-u*s*b,r[8]-l*g*b,r[9]-l*u*b,r[10]-l*l*b,r[11]-l*s*b,r[12]-s*g*b,r[13]-s*u*b,r[14]-s*l*b,r[15]-s*s*b],m=f,A=c.M4,_=[.5,.5,.5,.5],d=0,S=0;if(n!=0)for(var z=0;z<10&&(_=A.multVec(m,_),S=Math.sqrt(A.dot(_,_)),_=A.sml(1/S,_),!(Math.abs(S-d)<1e-9));z++)d=S;var Z=[g*b,u*b,l*b,s*b],L=A.dot(A.sml(255,Z),_),p=Z[3]<.001?0:1/Z[3];return{Cov:f,q:Z,e:_,L:d,eMq255:L,eMq:A.dot(_,Z),rgba:(Math.round(255*Z[3])<<24|Math.round(255*Z[2]*p)<<16|Math.round(255*Z[1]*p)<<8|Math.round(255*Z[0]*p)<<0)>>>0}},c.M4={multVec:function(t,r){return[t[0]*r[0]+t[1]*r[1]+t[2]*r[2]+t[3]*r[3],t[4]*r[0]+t[5]*r[1]+t[6]*r[2]+t[7]*r[3],t[8]*r[0]+t[9]*r[1]+t[10]*r[2]+t[11]*r[3],t[12]*r[0]+t[13]*r[1]+t[14]*r[2]+t[15]*r[3]]},dot:function(t,r){return t[0]*r[0]+t[1]*r[1]+t[2]*r[2]+t[3]*r[3]},sml:function(t,r){return[t*r[0],t*r[1],t*r[2],t*r[3]]}},c.encode.alphaMul=function(t,r){for(var h=new Uint8Array(t.length),n=t.length>>2,g=0;g<n;g++){var u=g<<2,l=t[u+3];r&&(l=l<128?0:255);var s=l*(1/255);h[u+0]=t[u+0]*s,h[u+1]=t[u+1]*s,h[u+2]=t[u+2]*s,h[u+3]=l}return h}}(T,B)})()})(Ct);var tr=Ct.exports;async function rr(R,T,B,c,O){const r=document.querySelector(B).files,h=document.querySelector(R),n=document.querySelector("#error-output"),g=document.querySelector(T);if(!r||r.length===0){n.textContent="No file selected",n.classList.remove("hidden");return}const l=await r[0].arrayBuffer(),s=tr.decode(l),b=s.data,f=document.querySelector(c),m=f==null?void 0:f.checked,A=document.querySelector(O),_=A==null?void 0:A.checked;try{const{binaryImage:d,jackCode:S}=Ut.convert(new Uint8Array(b),s.width,s.height,m,_);h.value=S,g.value=d,n.classList.add("hidden")}catch(d){n.textContent=d.message,n.classList.remove("hidden")}}function ar(R,T){const B=document.querySelector(R);if(B){B.select(),navigator.clipboard.writeText(B.value);const c=document.querySelector(T);if(console.log(c),c)c.textContent="Copied!",setInterval(()=>{c.textContent="Copy"},700);else{const O=document.querySelector("#error-output");O.textContent="Can't find copy button",O.classList.remove("hidden")}}else{const c=document.querySelector("#error-output");c.textContent="Cannot copy text to clipboard. Element not found.",c.classList.remove("hidden")}}const Ht=()=>rr("#output","#binary_img","#input","#export_size","#disable_grouping");function qt(){var R,T;if(!((T=(R=document.querySelector(Ft))==null?void 0:R.files)!=null&&T.length)){const B=document.querySelector("#error-output");B.textContent="No file selected. Please select an image file.",B.classList.remove("hidden");return}Ht()}const Ft="#input";var Tt;(Tt=document.querySelector(Ft))==null||Tt.addEventListener("change",Ht);var Rt;(Rt=document.querySelector("#copy_button"))==null||Rt.addEventListener("click",()=>ar("#output","#copy_button"));var It;(It=document.querySelector("#disable_grouping"))==null||It.addEventListener("click",()=>qt());var Dt;(Dt=document.querySelector("#export_size"))==null||Dt.addEventListener("click",()=>qt());
